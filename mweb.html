<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>  
	  
  	mweb - wjw'blog
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="wjw'blog" type="application/atom+xml">

	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	<script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/solarized_dark.css" media="screen, projection" rel="stylesheet" type="text/css">
<script>hljs.initHighlightingOnLoad();</script>

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>
	
	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}
	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}
	</style>
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
				 
					
					<h1><a href="index.html">wjw'blog</a></h1>
					<p class="subtitle"></p>
					<nav id="main-nav">
						<ul class="main">
						
						  <li id=""><a target="self" href="index.html">Home</a></li>
						
						  <li id=""><a target="_self" href="archives.html">Archives</a></li>
						
						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">













								

								<a class="rss" href="atom.xml" title="RSS">RSS</a>
							
						</div>
					</nav>
				</header>				
			</div>
		</div>	
		<div class="mid-col">
			<div class="mid-col-container"> <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-09-26T08:06:29+08:00" itemprop="datePublished">2018/9/26</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='mweb.html'>mweb</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15379203897873.html" itemprop="url">
		Dartè¯­è¨€2.0å­¦ä¹ </a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<ul>
<li>
<a href="#toc_0">ç–‘æƒ‘</a>
</li>
<li>
<a href="#toc_1">å°è¯•</a>
<ul>
<li>
<a href="#toc_2">ç¬¬ä¸€ä¸ªç¨‹åº</a>
</li>
</ul>
</li>
<li>
<a href="#toc_3">é‡è¦æ¦‚å¿µ</a>
</li>
<li>
<a href="#toc_4">å…³é”®å­—</a>
</li>
<li>
<a href="#toc_5">å˜é‡</a>
</li>
<li>
<a href="#toc_6">é»˜è®¤å€¼</a>
</li>
<li>
<a href="#toc_7">å¸¸æ•°</a>
</li>
<li>
<a href="#toc_8">å†…ç½®ç±»å‹</a>
<ul>
<li>
<a href="#toc_9">Numbers</a>
<ul>
<li>
<a href="#toc_10">int</a>
</li>
<li>
<a href="#toc_11">double</a>
</li>
</ul>
</li>
<li>
<a href="#toc_12">Strings</a>
</li>
<li>
<a href="#toc_13">Booleans</a>
</li>
<li>
<a href="#toc_14">Lists</a>
</li>
<li>
<a href="#toc_15">Maps</a>
</li>
<li>
<a href="#toc_16">Runes</a>
</li>
<li>
<a href="#toc_17">Symbols</a>
</li>
</ul>
</li>
<li>
<a href="#toc_18">Functions</a>
<ul>
<li>
<a href="#toc_19">å¯é€‰å‚æ•°</a>
<ul>
<li>
<a href="#toc_20">å¯é€‰å‘½åå‚æ•°</a>
</li>
<li>
<a href="#toc_21">å¯é€‰ä½ç½®å‚æ•°</a>
</li>
</ul>
</li>
<li>
<a href="#toc_22">å‚æ•°é»˜è®¤å€¼</a>
</li>
</ul>
</li>
<li>
<a href="#toc_23">main()å‡½æ•°</a>
<ul>
<li>
<a href="#toc_24">å‡½æ•°ä½œä¸ºç¬¬ä¸€ç±»å¯¹è±¡</a>
</li>
<li>
<a href="#toc_25">åŒ¿åå‡½æ•°</a>
</li>
<li>
<a href="#toc_26">é—­åŒ…</a>
</li>
<li>
<a href="#toc_27">æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰</a>
</li>
<li>
<a href="#toc_28">è¿”å›å€¼</a>
</li>
</ul>
</li>
<li>
<a href="#toc_29">è¿ç®—ç¬¦</a>
<ul>
<li>
<a href="#toc_30">ç®—æœ¯è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_31">ç›¸ç­‰å’Œå…³ç³»è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_32">ç±»å‹æµ‹è¯•è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_33">èµ‹å€¼è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_34">é€»è¾‘è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_35">æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦</a>
</li>
<li>
<a href="#toc_36">æ¡ä»¶è¡¨è¾¾å¼</a>
</li>
<li>
<a href="#toc_37">çº§è”ç¬¦å·(..)</a>
</li>
<li>
<a href="#toc_38">å…¶ä»–è¿ç®—ç¬¦</a>
</li>
</ul>
</li>
<li>
<a href="#toc_39">æ§åˆ¶æµç¨‹è¯­å¥</a>
<ul>
<li>
<a href="#toc_40">if and else</a>
</li>
<li>
<a href="#toc_41">For loops</a>
</li>
<li>
<a href="#toc_42">While and do-while</a>
</li>
<li>
<a href="#toc_43">Break and continue</a>
</li>
<li>
<a href="#toc_44">Switch and case</a>
</li>
<li>
<a href="#toc_45">Assert</a>
</li>
</ul>
</li>
<li>
<a href="#toc_46">Exceptions</a>
<ul>
<li>
<a href="#toc_47">Throw</a>
</li>
<li>
<a href="#toc_48">Catch</a>
</li>
<li>
<a href="#toc_49">Finally</a>
</li>
</ul>
</li>
<li>
<a href="#toc_50">Classes</a>
<ul>
<li>
<a href="#toc_51">é€‚ç”¨ç±»æˆå‘˜</a>
</li>
<li>
<a href="#toc_52">ä½¿ç”¨æ„é€ å‡½æ•°</a>
</li>
<li>
<a href="#toc_53">è·å–å¯¹è±¡çš„ç±»å‹</a>
</li>
<li>
<a href="#toc_54">å®ä¾‹å˜é‡</a>
</li>
<li>
<a href="#toc_55">æ„é€ å‡½æ•°</a>
<ul>
<li>
<a href="#toc_56">é»˜è®¤æ„é€ å‡½æ•°</a>
</li>
<li>
<a href="#toc_57">æ„é€ å‡½æ•°ä¼šè¢«ç»§æ‰¿</a>
</li>
<li>
<a href="#toc_58">å‘½åæ„é€ å‡½æ•°</a>
</li>
<li>
<a href="#toc_59">è°ƒç”¨éé»˜è®¤çš„è¶…ç±»æ„é€ å‡½æ•°</a>
<ul>
<li>
<a href="#toc_60">åˆå§‹åŒ–åˆ—è¡¨</a>
</li>
</ul>
</li>
<li>
<a href="#toc_61">é‡å®šå‘æ„é€ å‡½æ•°</a>
</li>
<li>
<a href="#toc_62">å¸¸é‡æ„é€ å‡½æ•°</a>
</li>
<li>
<a href="#toc_63">å·¥å‚æ„é€ å‡½æ•°</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#toc_64">Methods</a>
<ul>
<li>
<a href="#toc_65">å®ä¾‹æ–¹æ³•</a>
</li>
<li>
<a href="#toc_66">Getters and setters</a>
</li>
<li>
<a href="#toc_67">æŠ½è±¡æ–¹æ³•</a>
</li>
</ul>
</li>
<li>
<a href="#toc_68">æŠ½è±¡ç±»</a>
</li>
<li>
<a href="#toc_69">éšå¼æ¥å£</a>
</li>
<li>
<a href="#toc_70">Extending a class</a>
<ul>
<li>
<a href="#toc_71">é‡å†™(è¦†ç›–)æˆå‘˜</a>
</li>
<li>
<a href="#toc_72">å¯è¦†ç›–æ“ä½œç¬¦</a>
</li>
<li>
<a href="#toc_73">noSuchMethod()</a>
</li>
</ul>
</li>
<li>
<a href="#toc_74">æšä¸¾ç±»å‹</a>
<ul>
<li>
<a href="#toc_75">ä½¿ç”¨æšä¸¾</a>
</li>
<li>
<a href="#toc_76">å‘ç±»æ·»åŠ åŠŸèƒ½ï¼šmixins</a>
</li>
<li>
<a href="#toc_77">Class variables and methods</a>
<ul>
<li>
<a href="#toc_78">é™æ€å˜é‡</a>
</li>
<li>
<a href="#toc_79">é™æ€æ–¹æ³•</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#toc_80">æ³›å‹</a>
<ul>
<li>
<a href="#toc_81">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼Ÿ</a>
</li>
<li>
<a href="#toc_82">Using collection literals</a>
</li>
<li>
<a href="#toc_83">ä½¿ç”¨å¸¦æœ‰æ„é€ å‡½æ•°çš„å‚æ•°åŒ–ç±»å‹</a>
</li>
<li>
<a href="#toc_84">æ³›å‹é›†åˆåŠå…¶åŒ…å«çš„ç±»å‹</a>
</li>
<li>
<a href="#toc_85">é™åˆ¶å‚æ•°åŒ–ç±»å‹</a>
</li>
<li>
<a href="#toc_86">ä½¿ç”¨æ³›å‹æ–¹æ³•</a>
</li>
</ul>
</li>
<li>
<a href="#toc_87">Libraries and visibility</a>
<ul>
<li>
<a href="#toc_88">ä½¿ç”¨åº“</a>
</li>
<li>
<a href="#toc_89">æŒ‡å®šåº“å‰ç¼€</a>
</li>
<li>
<a href="#toc_90">ä»…å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†</a>
</li>
<li>
<a href="#toc_91">æ‡’åŠ è½½ä¸€ä¸ªåº“</a>
</li>
<li>
<a href="#toc_92">å®ç°åº“</a>
</li>
</ul>
</li>
<li>
<a href="#toc_93">å¼‚æ­¥æ”¯æŒ</a>
<ul>
<li>
<a href="#toc_94">Handling Futures(å¤„ç†æœŸè´§)</a>
</li>
<li>
<a href="#toc_95">å£°æ˜å¼‚æ­¥å‡½æ•°</a>
</li>
<li>
<a href="#toc_96">å¤„ç†æµ</a>
</li>
</ul>
</li>
<li>
<a href="#toc_97">ç”Ÿæˆå™¨</a>
</li>
<li>
<a href="#toc_98">Callable classes</a>
</li>
<li>
<a href="#toc_99">éš”ç¦»</a>
</li>
<li>
<a href="#toc_100">ç±»å‹å®šä¹‰</a>
</li>
<li>
<a href="#toc_101">å…ƒæ•°æ®</a>
</li>
<li>
<a href="#toc_102">æ³¨é‡Š</a>
<ul>
<li>
<a href="#toc_103">å•è¡Œæ³¨é‡Š</a>
</li>
<li>
<a href="#toc_104">å¤šè¡Œæ³¨é‡Š</a>
</li>
<li>
<a href="#toc_105">æ–‡æ¡£æ³¨é‡Š</a>
</li>
</ul>
</li>
<li>
<a href="#toc_106">æ€»ç»“</a>
</li>
</ul>


<h2 id="toc_0">ç–‘æƒ‘</h2>

<ul>
<li class="task-list-item"><input disabled="disabled" type="checkbox" /> constå’Œfinal
</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" /> Symbols
</li>
</ul>

<h2 id="toc_1">å°è¯•</h2>

<h3 id="toc_2">ç¬¬ä¸€ä¸ªç¨‹åº</h3>

<pre><code class="language-Dart">// å®šä¹‰ä¸€ä¸ªå‡½æ•°
printInteger(int teg){
  print(&#39;the number is $teg.&#39;);
}
// ä¸»å‡½æ•°
main(){
  // å®šä¹‰å˜é‡
  var number = 24;
  // è°ƒç”¨å‡½æ•°
    printInteger(24);
}
</code></pre>

<ul>
<li>å‡½æ•°çš„å®šä¹‰</li>
<li>å‡½æ•°çš„è°ƒç”¨</li>
<li>å˜é‡çš„å®šä¹‰</li>
<li>ä¸»å‡½æ•°</li>
<li>æ¯ä¸€è¡Œä»£ç ä»¥&quot;;&quot;ç»“æŸ</li>
<li>å­—ç¬¦ä¸²ä»¥å•å¼•å·æˆ–è€…åŒå¼•å·å®šä¹‰</li>
<li>å­—ç¬¦ä¸²å†…ç›´æ¥å¼•ç”¨å˜é‡æ›¿æ¢ä»¥&quot;$&quot;å¼€å¤´ç„¶å</li>
<li>å•è¡Œæ³¨é‡Šçš„å†™æ³•</li>
<li>printå‡½æ•°</li>
</ul>

<h2 id="toc_3">é‡è¦æ¦‚å¿µ</h2>

<ul>
<li>æ‰€æœ‰å¯æ”¾å…¥å˜é‡çš„å†…å®¹éƒ½æ˜¯å¯¹è±¡,æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯æŸä¸ªç±»çš„å®ä¾‹.ç”šè‡³æ•°å€¼,å‡½æ•°å’Œnull.æ‰€æœ‰å¯¹è±¡éƒ½ç»§æ‰¿è‡ªobjectç±».</li>
<li>Dartæ˜¯å¼ºç±»å‹è¯­è¨€,ç±»å‹ç”Ÿå‘½ä»ç„¶æ˜¯å¯é€‰çš„,å› ä¸ºdartå¯ä»¥æ¨æ–­ç±»å‹.åœ¨ä¸Šé¢çš„ä»£ç ä¸­numberå˜é‡è¢«æ¨æ–­ä¸ºintç±»å‹.å¦‚æœä¸æƒ³ç”¨æ¨æ–­ç±»å‹,å¯ä»¥ç”¨åŠ¨æ€ç±»å‹dynamic.</li>
<li>Dartæ”¯æŒæ³›å‹,å¦‚List<int>(æ•´æ•°åˆ—è¡¨)æˆ–è€…List<dynamic>(ä»»ä½•ç±»å‹çš„å¯¹è±¡åˆ—è¡¨).</li>
<li>Dartæ”¯æŒé¡¶çº§å‡½æ•°ï¼ˆä¾‹å¦‚mainï¼ˆï¼‰ï¼‰ï¼Œä»¥åŠç»‘å®šåˆ°ç±»æˆ–å¯¹è±¡çš„å‡½æ•°ï¼ˆåˆ†åˆ«æ˜¯é™æ€å’Œå®ä¾‹æ–¹æ³•ï¼‰ã€‚æ‚¨è¿˜å¯ä»¥åœ¨å‡½æ•°å†…åˆ›å»ºå‡½æ•°ï¼ˆåµŒå¥—å‡½æ•°æˆ–æœ¬åœ°å‡½æ•°ï¼‰ã€‚</li>
<li>ç±»ä¼¼åœ°ï¼ŒDartæ”¯æŒé¡¶çº§å˜é‡ï¼Œä»¥åŠç»‘å®šåˆ°ç±»æˆ–å¯¹è±¡çš„å˜é‡ï¼ˆé™æ€å’Œå®ä¾‹å˜é‡ï¼‰ã€‚å®ä¾‹å˜é‡æœ‰æ—¶ç§°ä¸ºå­—æ®µæˆ–å±æ€§ã€‚</li>
<li>ä¸Javaä¸åŒï¼ŒDartæ²¡æœ‰å…³é”®å­—publicï¼Œprotectedå’Œprivateã€‚å¦‚æœæ ‡è¯†ç¬¦ä»¥ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰å¼€å¤´ï¼Œåˆ™å®ƒå¯¹å…¶åº“æ˜¯ç§æœ‰çš„ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…åº“å’Œå¯è§æ€§ã€‚</li>
<li>æ ‡è¯†ç¬¦å¯ä»¥ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰å¼€å¤´ï¼Œåè·Ÿè¿™äº›å­—ç¬¦åŠ æ•°å­—çš„ä»»æ„ç»„åˆã€‚</li>
<li>DartåŒæ—¶æœ‰è¡¨è¾¾å¼ï¼ˆå…·æœ‰è¿è¡Œæ—¶å€¼ï¼‰å’Œè¯­å¥ï¼ˆä¸å…·æœ‰è¿è¡Œæ—¶å€¼ï¼‰ã€‚ä¾‹å¦‚ï¼Œæ¡ä»¶è¡¨è¾¾å¼<code>æ¡ä»¶ ? expr1ï¼šexpr2</code>çš„å€¼ä¸ºexpr1æˆ–expr2ã€‚å°†å…¶ä¸if-elseè¯­å¥è¿›è¡Œæ¯”è¾ƒï¼Œè¯¥è¯­å¥æ²¡æœ‰ä»»ä½•å€¼ã€‚è¯­å¥é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œä½†è¡¨è¾¾å¼ä¸èƒ½ç›´æ¥åŒ…å«è¯­å¥ã€‚</li>
<li>Dartå·¥å…·å¯ä»¥æŠ¥å‘Šä¸¤ç§é—®é¢˜ï¼šè­¦å‘Šå’Œé”™è¯¯ã€‚è­¦å‘Šåªæ˜¯è¡¨æ˜æ‚¨çš„ä»£ç å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä½†å®ƒä»¬ä¸ä¼šé˜»æ­¢æ‚¨çš„ç¨‹åºæ‰§è¡Œã€‚é”™è¯¯å¯ä»¥æ˜¯ç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶ã€‚ç¼–è¯‘æ—¶é”™è¯¯ä¼šé˜»æ­¢ä»£ç æ‰§è¡Œ;è¿è¡Œæ—¶é”™è¯¯å¯¼è‡´ä»£ç æ‰§è¡Œæ—¶å¼•å‘å¼‚å¸¸ã€‚</li>
</ul>

<h2 id="toc_4">å…³é”®å­—</h2>

<p>ä¸‹è¡¨åˆ—å‡ºäº†Dartè¯­è¨€ä¸“é—¨å¤„ç†çš„å•è¯ã€‚</p>

<table>
<thead>
<tr>
<th>abstract <sup>2</sup></th>
<th>dynamic <sup>2</sup></th>
<th>implements <sup>2</sup></th>
<th>show <sup>1</sup></th>
</tr>
</thead>

<tbody>
<tr>
<td>as <sup>2</sup></td>
<td>else</td>
<td>import <sup>2</sup></td>
<td>static <sup>2</sup></td>
</tr>
<tr>
<td>assert</td>
<td>enum</td>
<td>in</td>
<td>super</td>
</tr>
<tr>
<td>async <sup>1</sup></td>
<td>export <sup>2</sup></td>
<td>interface <sup>2</sup></td>
<td>switch</td>
</tr>
<tr>
<td>await <sup>3</sup></td>
<td>external <sup>2</sup></td>
<td>is</td>
<td>sync <sup>1</sup></td>
</tr>
<tr>
<td>break</td>
<td>extends</td>
<td>library <sup>2</sup></td>
<td>this</td>
</tr>
<tr>
<td>case</td>
<td>factory <sup>2</sup></td>
<td>mixin <sup>2</sup></td>
<td>throw</td>
</tr>
<tr>
<td>catch</td>
<td>false</td>
<td>new</td>
<td>true</td>
</tr>
<tr>
<td>class</td>
<td>final</td>
<td>null</td>
<td>try</td>
</tr>
<tr>
<td>const</td>
<td>finally</td>
<td>on <sup>1</sup></td>
<td>typedef <sup>2</sup></td>
</tr>
<tr>
<td>continue</td>
<td>for</td>
<td>operator <sup>2</sup></td>
<td>var</td>
</tr>
<tr>
<td>covariant <sup>2</sup></td>
<td>Function <sup>2</sup></td>
<td>part <sup>2</sup></td>
<td>void</td>
</tr>
<tr>
<td>default</td>
<td>get <sup>2</sup></td>
<td>rethrow</td>
<td>while</td>
</tr>
<tr>
<td>deferred <sup>2</sup></td>
<td>hide <sup>1</sup></td>
<td>return</td>
<td>with</td>
</tr>
<tr>
<td>do</td>
<td>if</td>
<td>set <sup>2</sup></td>
<td>yield <sup>3</sup></td>
</tr>
</tbody>
</table>

<p>é¿å…ä½¿ç”¨è¿™äº›å•è¯ä½œä¸ºæ ‡è¯†ç¬¦ã€‚ä½†æ˜¯ï¼Œå¦‚æœ‰å¿…è¦ï¼Œæ ‡æœ‰ä¸Šæ ‡çš„å…³é”®å­—å¯ä»¥æ˜¯æ ‡è¯†ç¬¦ï¼š</p>

<ul>
<li>å¸¦æœ‰ä¸Šæ ‡1çš„å•è¯æ˜¯ä¸Šä¸‹æ–‡å…³é”®å­—ï¼Œä»…åœ¨ç‰¹å®šä½ç½®å…·æœ‰å«ä¹‰ã€‚ä»–ä»¬åœ¨ä»»ä½•ä½ç½®éƒ½æ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ã€‚</li>
<li>å¸¦æœ‰ä¸Šæ ‡2çš„å•è¯æ˜¯å†…ç½®æ ‡è¯†ç¬¦ã€‚ä¸ºäº†ç®€åŒ–å°†JavaScriptä»£ç ç§»æ¤åˆ°Dartçš„ä»»åŠ¡ï¼Œè¿™äº›å…³é”®å­—åœ¨å¤§å¤šæ•°åœ°æ–¹éƒ½æ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ï¼Œä½†å®ƒä»¬ä¸èƒ½ç”¨ä½œç±»æˆ–ç±»å‹åç§°ï¼Œä¹Ÿä¸èƒ½ç”¨ä½œå¯¼å…¥å‰ç¼€ã€‚</li>
<li>å¸¦æœ‰ä¸Šæ ‡3çš„å•è¯æ˜¯ä¸Dart 1.0å‘å¸ƒåæ·»åŠ çš„å¼‚æ­¥æ”¯æŒç›¸å…³çš„æ›´æ–°ï¼Œæœ‰é™çš„ä¿ç•™å­—ã€‚æ‚¨ä¸èƒ½åœ¨æ ‡è®°ä¸ºasyncï¼Œasync *æˆ–sync *çš„ä»»ä½•å‡½æ•°ä½“ä¸­ä½¿ç”¨awaitæˆ–yieldä½œä¸ºæ ‡è¯†ç¬¦ã€‚</li>
</ul>

<p>è¡¨ä¸­çš„æ‰€æœ‰å…¶ä»–å•è¯éƒ½æ˜¯ä¿ç•™å­—ï¼Œä¸èƒ½æ˜¯æ ‡è¯†ç¬¦ã€‚</p>

<h2 id="toc_5">å˜é‡</h2>

<p>è¿™æ˜¯åˆ›å»ºå˜é‡å¹¶åˆå§‹åŒ–å®ƒçš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">var name = &#39;Bob&#39;;
</code></pre>

<p>å˜é‡å­˜å‚¨å¼•ç”¨ã€‚åä¸ºnameçš„å˜é‡åŒ…å«å¯¹Stringå¯¹è±¡çš„å¼•ç”¨ï¼Œå…¶å€¼ä¸ºâ€œBobâ€ã€‚</p>

<p>nameå˜é‡çš„ç±»å‹è¢«æ¨æ–­ä¸ºStringï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡æŒ‡å®šå®ƒæ¥æ›´æ”¹è¯¥ç±»å‹ã€‚å¦‚æœå¯¹è±¡ä¸é™äºå•ä¸ªç±»å‹ï¼Œè¯·æŒ‰ç…§è®¾è®¡å‡†åˆ™æŒ‡å®šå¯¹è±¡æˆ–åŠ¨æ€ç±»å‹ã€‚<br/>
<code>Dart<br/>
dynamic name = &#39;Bob&#39;;<br/>
</code><br/>
å¦ä¸€ç§é€‰æ‹©æ˜¯æ˜¾å¼å£°æ˜å¯ä»¥æ¨æ–­å‡ºçš„ç±»å‹ï¼š<br/>
<code>Dart<br/>
String name = &#39;Bob&#39;;<br/>
</code></p>

<blockquote>
<p>æ³¨æ„ï¼šæ­¤é¡µé¢éµå¾ªä¸ºå±€éƒ¨å˜é‡ä½¿ç”¨varè€Œä¸æ˜¯ç±»å‹æ³¨é‡Šçš„æ ·å¼æŒ‡å—å»ºè®®ã€‚</p>
</blockquote>

<h2 id="toc_6">é»˜è®¤å€¼</h2>

<p>æœªåˆå§‹åŒ–çš„å˜é‡çš„åˆå§‹å€¼ä¸ºnullã€‚å³ä½¿æ˜¯å…·æœ‰æ•°å­—ç±»å‹çš„å˜é‡æœ€åˆä¹Ÿæ˜¯nullï¼Œå› ä¸ºæ•°å­— - å°±åƒDartä¸­çš„å…¶ä»–æ‰€æœ‰ - éƒ½æ˜¯å¯¹è±¡ã€‚<br/>
<code>Dart<br/>
int lineCount;<br/>
assert(lineCount == null);<br/>
</code></p>

<blockquote>
<p>æ³¨æ„ï¼šç”Ÿäº§ä»£ç ä¸­å°†å¿½ç•¥assertï¼ˆï¼‰è°ƒç”¨ã€‚åœ¨å¼€å‘æœŸé—´ï¼Œæ–­è¨€ï¼ˆæ¡ä»¶ï¼‰æŠ›å‡ºå¼‚å¸¸ï¼Œé™¤éæ¡ä»¶ä¸ºçœŸã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ–­è¨€ã€‚</p>
</blockquote>

<h2 id="toc_7">å¸¸æ•°</h2>

<p>å¦‚æœæ‚¨ä»ä¸æ‰“ç®—æ›´æ”¹å˜é‡ï¼Œè¯·ä½¿ç”¨finalæˆ–constï¼Œè€Œä¸æ˜¯varæˆ–ç±»å‹ã€‚æœ€ç»ˆå˜é‡åªèƒ½è®¾ç½®ä¸€æ¬¡; constå˜é‡æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚ ï¼ˆConstå˜é‡æ˜¯éšå¼æœ€ç»ˆçš„ã€‚ï¼‰æœ€ç»ˆçš„é¡¶çº§æˆ–ç±»å˜é‡åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶è¢«åˆå§‹åŒ–ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šå®ä¾‹æˆå‘˜å˜é‡å¯ä»¥æ˜¯finalï¼Œä½†ä¸æ˜¯constã€‚å¿…é¡»åœ¨æ„é€ å‡½æ•°å¯åŠ¨ä¹‹å‰åˆå§‹åŒ–æœ€ç»ˆå®ä¾‹å˜é‡ - åœ¨å˜é‡å£°æ˜æ—¶ï¼Œæ„é€ å‡½æ•°å‚æ•°æˆ–æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ã€‚</p>
</blockquote>

<p>ä»¥ä¸‹æ˜¯åˆ›å»ºå’Œè®¾ç½®æœ€ç»ˆå˜é‡çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">final name = &#39;Bob&#39;; // æ²¡æœ‰ç±»å‹æ³¨é‡Š
final String nickname = &#39;Bobby&#39;;
</code></pre>

<p>æ‚¨æ— æ³•æ›´æ”¹æœ€ç»ˆå˜é‡çš„å€¼ï¼š</p>

<pre><code class="language-Dart">name = &#39;Alice&#39;; // Error: a final variable can only be set once.
</code></pre>

<p>å¯¹äºè¦æˆä¸ºç¼–è¯‘æ—¶å¸¸é‡çš„å˜é‡ï¼Œè¯·ä½¿ç”¨constã€‚å¦‚æœconstå˜é‡åœ¨ç±»çº§åˆ«ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºstatic constã€‚åœ¨å£°æ˜å˜é‡çš„åœ°æ–¹ï¼Œå°†å€¼è®¾ç½®ä¸ºç¼–è¯‘æ—¶å¸¸é‡ï¼Œä¾‹å¦‚æ•°å­—æˆ–å­—ç¬¦ä¸²æ–‡å­—ï¼Œconstå˜é‡æˆ–å¸¸æ•°ä¸Šçš„ç®—æœ¯è¿ç®—ç»“æœï¼š</p>

<pre><code class="language-Dart">const bar = 1000000; // Unit of pressure (dynes/cm2)
const double atm = 1.01325 * bar; // Standard atmosphere
</code></pre>

<p>constå…³é”®å­—ä¸åªæ˜¯ç”¨äºå£°æ˜å¸¸é‡å˜é‡ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºå¸¸é‡å€¼ï¼Œä»¥åŠå£°æ˜åˆ›å»ºå¸¸é‡å€¼çš„æ„é€ å‡½æ•°ã€‚ä»»ä½•å˜é‡éƒ½å¯ä»¥å…·æœ‰å¸¸é‡å€¼ã€‚</p>

<pre><code class="language-Dart">var foo = const [];
final bar = const [];
const baz = []; // ç›¸å½“äº `const []`
</code></pre>

<p>ä½ å¯ä»¥ä»constå£°æ˜çš„åˆå§‹åŒ–è¡¨è¾¾å¼ä¸­çœç•¥constï¼Œå°±åƒä¸Šé¢çš„bazä¸€æ ·ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸è¦å†—ä½™åœ°ä½¿ç”¨constã€‚</p>

<p>æ‚¨å¯ä»¥æ›´æ”¹éfinalï¼Œéconstå˜é‡çš„å€¼ï¼Œå³ä½¿å®ƒæ›¾ç»æœ‰ä¸€ä¸ªconstå€¼ï¼š</p>

<pre><code class="language-Dart">foo = [1, 2, 3]; // æ›¾ç»æ˜¯ const []
</code></pre>

<p>æ‚¨æ— æ³•æ›´æ”¹constå˜é‡çš„å€¼ï¼š</p>

<pre><code class="language-Dart">baz = [42]; // Error: Constant variables can&#39;t be assigned a value.
</code></pre>

<p>æœ‰å…³ä½¿ç”¨conståˆ›å»ºå¸¸é‡å€¼çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…Listï¼ŒMapså’ŒClassesã€‚</p>

<h2 id="toc_8">å†…ç½®ç±»å‹</h2>

<p>Dartè¯­è¨€ç‰¹åˆ«æ”¯æŒä»¥ä¸‹ç±»å‹ï¼š</p>

<ul>
<li>numbers</li>
<li>strings</li>
<li>booleans</li>
<li>lists (also known as arrays)</li>
<li>maps</li>
<li>runes (ç”¨äºè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„Unicodeå­—ç¬¦ )</li>
<li>symbols</li>
</ul>

<p>æ‚¨å¯ä»¥ä½¿ç”¨æ–‡å­—åˆå§‹åŒ–ä»»ä½•è¿™äº›ç‰¹æ®Šç±»å‹çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œ&#39;this is a string&#39;æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ–‡å­—ï¼Œtrueæ˜¯ä¸€ä¸ªå¸ƒå°”æ–‡å­—ã€‚</p>

<p>å› ä¸ºDartä¸­çš„æ¯ä¸ªå˜é‡éƒ½å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ - ä¸€ä¸ªç±»çš„å®ä¾‹ - æ‚¨é€šå¸¸å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–å˜é‡ã€‚ä¸€äº›å†…ç½®ç±»å‹æœ‰è‡ªå·±çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>Map()</code>æ„é€ å‡½æ•°æ¥åˆ›å»ºmapã€‚</p>

<h3 id="toc_9">Numbers</h3>

<p>Dartä¸­æ•°å­—æœ‰ä¸¤ç§å½¢å¼ï¼š</p>

<h4 id="toc_10">int</h4>

<p>æ•´æ•°å€¼ä¸å¤§äº64ä½ï¼Œå…·ä½“å–å†³äºå¹³å°ã€‚åœ¨Dart VMä¸Šï¼Œå€¼å¯ä»¥æ˜¯-263åˆ°263 - 1.ç¼–è¯‘ä¸ºJavaScriptçš„Dartä½¿ç”¨JavaScriptç¼–å·ï¼Œå…è®¸ä»-253åˆ°253 - 1çš„å€¼ã€‚</p>

<h4 id="toc_11">double</h4>

<p>64ä½ï¼ˆåŒç²¾åº¦ï¼‰æµ®ç‚¹æ•°ï¼Œç”±IEEE 754æ ‡å‡†è§„å®šã€‚</p>

<p>intå’Œdoubleéƒ½æ˜¯numçš„å­ç±»å‹ã€‚ numç±»å‹åŒ…æ‹¬åŸºæœ¬è¿ç®—ç¬¦ï¼Œå¦‚+ï¼Œ - ï¼Œ/å’Œ*ï¼Œä¹Ÿæ˜¯ä½ å¯ä»¥æ‰¾åˆ°absï¼ˆï¼‰ï¼Œceilï¼ˆï¼‰å’Œfloorï¼ˆï¼‰ä»¥åŠå…¶ä»–æ–¹æ³•çš„åœ°æ–¹ã€‚ ï¼ˆæŒ‰ä½è¿ç®—ç¬¦ï¼Œå¦‚&gt;&gt;ï¼Œåœ¨intç±»ä¸­å®šä¹‰ã€‚ï¼‰å¦‚æœnumåŠå…¶å­ç±»å‹æ²¡æœ‰æ‚¨è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œåˆ™dartï¼šmathåº“ä¸­å¯èƒ½æœ‰ã€‚</p>

<p>æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°ç‚¹çš„æ•°å­—ã€‚ä»¥ä¸‹æ˜¯å®šä¹‰æ•´æ•°æ–‡å­—çš„ä¸€äº›ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">int x = 1;
int hex = 0xDEADBEEF;
</code></pre>

<p>å¦‚æœæ•°å­—åŒ…å«å°æ•°ï¼Œåˆ™ä¸ºåŒç²¾åº¦æ•°ã€‚ä»¥ä¸‹æ˜¯å®šä¹‰åŒé‡æ–‡å­—çš„ä¸€äº›ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">double y = 1.1;
double exponents = 1.42e5;
</code></pre>

<p>ä»¥ä¸‹æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æ–¹æ³•ï¼Œåä¹‹äº¦ç„¶ï¼š</p>

<pre><code class="language-Dart">// String -&gt; int
var one = int.parse(&#39;1&#39;);
assert(one == 1);

// String -&gt; double
var onePointOne = double.parse(&#39;1.1&#39;);
assert(onePointOne == 1.1);

// int -&gt; String
String oneAsString = 1.toString();
assert(oneAsString == &#39;1&#39;);

// double -&gt; String
String piAsString = 3.14159.toStringAsFixed(2);
assert(piAsString == &#39;3.14&#39;);
</code></pre>

<p>intç±»å‹æ”¯æŒä¼ ç»Ÿçš„ä½è¿ç®—ï¼ˆ&lt;&lt;ï¼Œ&gt;&gt;ï¼‰ï¼ŒANDï¼ˆï¼†ï¼‰å’ŒORï¼ˆ|ï¼‰è¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">assert((3 &lt;&lt; 1) == 6); // 0011 &lt;&lt; 1 == 0110
assert((3 &gt;&gt; 1) == 1); // 0011 &gt;&gt; 1 == 0001
assert((3 | 4) == 7); // 0011 | 0100 == 0111
</code></pre>

<p>æ–‡å­—æ•°å­—æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚è®¸å¤šç®—æœ¯è¡¨è¾¾å¼ä¹Ÿæ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåªè¦å®ƒä»¬çš„æ“ä½œæ•°æ˜¯ç¼–è¯‘ä¸ºæ•°å­—çš„ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>

<pre><code class="language-Dart">const msPerSecond = 1000;
const secondsUntilRetry = 5;
const msUntilRetry = secondsUntilRetry * msPerSecond;
</code></pre>

<h3 id="toc_12">Strings</h3>

<p>Dartå­—ç¬¦ä¸²æ˜¯ä¸€ç³»åˆ—UTF-16ä»£ç å•å…ƒã€‚æ‚¨å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼š</p>

<pre><code class="language-Dart">var s1 = &#39;Single quotes work well for string literals.&#39;;
var s2 = &quot;Double quotes work just as well.&quot;;
var s3 = &#39;It\&#39;s easy to escape the string delimiter.&#39;;
var s4 = &quot;It&#39;s even easier to use the other delimiter.&quot;;
</code></pre>

<p>æ‚¨å¯ä»¥ä½¿ç”¨$ {expression}å°†è¡¨è¾¾å¼çš„å€¼æ”¾åœ¨å­—ç¬¦ä¸²ä¸­ã€‚å¦‚æœè¡¨è¾¾å¼æ˜¯æ ‡è¯†ç¬¦ï¼Œåˆ™å¯ä»¥è·³è¿‡{}ã€‚è¦è·å–å¯¹åº”äºå¯¹è±¡çš„å­—ç¬¦ä¸²ï¼ŒDartè°ƒç”¨å¯¹è±¡çš„toStringï¼ˆï¼‰æ–¹æ³•ã€‚</p>

<pre><code class="language-Dart">var s = &#39;string interpolation&#39;;

assert(&#39;Dart has $s, which is very handy.&#39; ==
    &#39;Dart has string interpolation, &#39; +
        &#39;which is very handy.&#39;);
assert(&#39;That deserves all caps. &#39; +
        &#39;${s.toUpperCase()} is very handy!&#39; ==
    &#39;That deserves all caps. &#39; +
        &#39;STRING INTERPOLATION is very handy!&#39;);
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼š==è¿ç®—ç¬¦æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒã€‚å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«ç›¸åŒçš„ä»£ç å•å…ƒåºåˆ—ï¼Œåˆ™å®ƒä»¬æ˜¯ç­‰æ•ˆçš„ã€‚</p>
</blockquote>

<p>æ‚¨å¯ä»¥ä½¿ç”¨ç›¸é‚»çš„å­—ç¬¦ä¸²æ–‡å­—æˆ–+è¿ç®—ç¬¦æ¥è¿æ¥å­—ç¬¦ä¸²ï¼š</p>

<pre><code class="language-Dart">var s1 = &#39;String &#39;
    &#39;concatenation&#39;
    &quot; works even over line breaks.&quot;;
assert(s1 ==
    &#39;String concatenation works even over &#39;
    &#39;line breaks.&#39;);

var s2 = &#39;The + operator &#39; + &#39;works, as well.&#39;;
assert(s2 == &#39;The + operator works, as well.&#39;);
</code></pre>

<p>åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸²çš„å¦ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨å¸¦æœ‰å•å¼•å·æˆ–åŒå¼•å·çš„ä¸‰é‡å¼•å·ï¼š</p>

<pre><code class="language-Dart">var s1 = &#39;&#39;&#39;
You can create
multi-line strings like this one.
&#39;&#39;&#39;;

var s2 = &quot;&quot;&quot;This is also a
multi-line string.&quot;&quot;&quot;;
</code></pre>

<p>æ‚¨å¯ä»¥é€šè¿‡åœ¨å…¶å‰é¢åŠ ä¸Šræ¥åˆ›å»ºâ€œrawâ€å­—ç¬¦ä¸²ï¼š</p>

<pre><code class="language-Dart">var s = r&#39;In a raw string, not even \n gets special treatment.&#39;;
</code></pre>

<p>æœ‰å…³å¦‚ä½•åœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºUnicodeå­—ç¬¦çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Runesã€‚</p>

<p>æ–‡å­—å­—ç¬¦ä¸²æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåªè¦ä»»ä½•æ’å€¼è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œå…¶å€¼ä¸ºnullæˆ–æ•°å€¼ï¼Œå­—ç¬¦ä¸²æˆ–å¸ƒå°”å€¼ã€‚</p>

<pre><code class="language-Dart">// These work in a const string.
const aConstNum = 0;
const aConstBool = true;
const aConstString = &#39;a constant string&#39;;

// These do NOT work in a const string.
var aNum = 0;
var aBool = true;
var aString = &#39;a string&#39;;
const aConstList = [1, 2, 3];

const validConstString = &#39;$aConstNum $aConstBool $aConstString&#39;;
// const invalidConstString = &#39;$aNum $aBool $aString $aConstList&#39;;
</code></pre>

<p>æœ‰å…³ä½¿ç”¨å­—ç¬¦ä¸²çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼ã€‚</p>

<h3 id="toc_13">Booleans</h3>

<p>ä¸ºäº†è¡¨ç¤ºå¸ƒå°”å€¼ï¼ŒDartæœ‰ä¸€ä¸ªåä¸ºboolçš„ç±»å‹ã€‚åªæœ‰ä¸¤ä¸ªå¯¹è±¡å…·æœ‰boolç±»å‹ï¼šboolean literals trueå’Œfalseï¼Œå®ƒä»¬éƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>

<p>Dartçš„ç±»å‹å®‰å…¨æ„å‘³ç€æ‚¨ä¸èƒ½ä½¿ç”¨ifï¼ˆnonbooleanValueï¼‰æˆ–assertï¼ˆnonbooleanValueï¼‰ç­‰ä»£ç ã€‚ç›¸åï¼Œæ˜ç¡®æ£€æŸ¥å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<pre><code class="language-Dart">// Check for an empty string.
var fullName = &#39;&#39;;
assert(fullName.isEmpty);

// Check for zero.
var hitPoints = 0;
assert(hitPoints &lt;= 0);

// Check for null.
var unicorn;
assert(unicorn == null);

// Check for NaN.
var iMeantToDoThis = 0 / 0;
assert(iMeantToDoThis.isNaN);
</code></pre>

<h3 id="toc_14">Lists</h3>

<p>ä¹Ÿè®¸å‡ ä¹æ¯ç§ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸è§çš„é›†åˆæ˜¯æ•°ç»„æˆ–æœ‰åºçš„å¯¹è±¡ç»„ã€‚åœ¨Dartä¸­ï¼Œæ•°ç»„æ˜¯Listå¯¹è±¡ï¼Œå› æ­¤å¤§å¤šæ•°äººåªæ˜¯å°†å®ƒä»¬ç§°ä¸ºåˆ—è¡¨ã€‚</p>

<p>Dartåˆ—è¡¨æ–‡å­—çœ‹èµ·æ¥åƒJavaScriptæ•°ç»„æ–‡å­—ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„Dartåˆ—è¡¨ï¼š</p>

<pre><code class="language-Dart">var list = [1, 2, 3];
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šåˆ†æå™¨æ¨æ–­åˆ—è¡¨çš„ç±»å‹ä¸ºList <int>ã€‚å¦‚æœå°è¯•å°†éæ•´æ•°å¯¹è±¡æ·»åŠ åˆ°æ­¤åˆ—è¡¨ï¼Œåˆ™åˆ†æå™¨æˆ–è¿è¡Œæ—¶ä¼šå¼•å‘é”™è¯¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»ç±»å‹æ¨æ–­ã€‚</p>
</blockquote>

<p>åˆ—è¡¨ä½¿ç”¨ä»é›¶å¼€å§‹çš„ç´¢å¼•ï¼Œå…¶ä¸­0æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œ<code>list.length - 1</code>æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚æ‚¨å¯ä»¥åƒåœ¨JavaScriptä¸­ä¸€æ ·è·å–åˆ—è¡¨çš„é•¿åº¦å¹¶å¼•ç”¨åˆ—è¡¨å…ƒç´ ï¼š</p>

<pre><code class="language-Dart">var list = [1, 2, 3];
assert(list.length == 3);
assert(list[1] == 2);

list[1] = 1;
assert(list[1] == 1);
</code></pre>

<p>è¦åˆ›å»ºä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡çš„åˆ—è¡¨ï¼Œè¯·åœ¨åˆ—è¡¨æ–‡å­—ä¹‹å‰æ·»åŠ constï¼š</p>

<pre><code class="language-Dart">var constantList = const [1, 2, 3];
// constantList[1] = 1; // Uncommenting this causes an error.
</code></pre>

<p>Listç±»å‹æœ‰è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•æ¥æ“ä½œåˆ—è¡¨ã€‚æœ‰å…³åˆ—è¡¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æ³›å‹å’Œé›†åˆã€‚</p>

<h3 id="toc_15">Maps</h3>

<p>é€šå¸¸ï¼Œæ˜ å°„æ˜¯å…³è”é”®å’Œå€¼çš„å¯¹è±¡ã€‚é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚æ¯ä¸ªé”®åªå‡ºç°ä¸€æ¬¡ï¼Œä½†æ‚¨å¯ä»¥å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„å€¼ã€‚Dartæ”¯æŒç”±mapæ–‡å­—å’Œmapç±»å‹æä¾›ã€‚</p>

<p>è¿™é‡Œæœ‰å‡ ä¸ªç®€å•çš„Dart mapï¼Œä½¿ç”¨mapæ–‡å­—åˆ›å»ºï¼š</p>

<pre><code class="language-Dart">var gifts = {
  // Key:    Value
  &#39;first&#39;: &#39;partridge&#39;,
  &#39;second&#39;: &#39;turtledoves&#39;,
  &#39;fifth&#39;: &#39;golden rings&#39;
};

var nobleGases = {
  2: &#39;helium&#39;,
  10: &#39;neon&#39;,
  18: &#39;argon&#39;,
};
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šåˆ†æå™¨æ¨æ–­<code>gifts</code>çš„ç±»å‹ä¸ºMap <Stringï¼ŒString>ï¼Œè€Œ<code>nobleGases</code>çš„ç±»å‹ä¸ºMap <intï¼ŒString>ã€‚å¦‚æœæ‚¨å°è¯•å°†é”™è¯¯ç±»å‹çš„å€¼æ·»åŠ åˆ°ä»»ä¸€æ˜ å°„ï¼Œåˆ™åˆ†æå™¨æˆ–è¿è¡Œæ—¶ä¼šå¼•å‘é”™è¯¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»ç±»å‹æ¨æ–­ã€‚</p>
</blockquote>

<p>æ‚¨å¯ä»¥ä½¿ç”¨Mapæ„é€ å‡½æ•°åˆ›å»ºç›¸åŒçš„å¯¹è±¡ï¼š</p>

<pre><code class="language-Dart">var gifts = Map();
gifts[&#39;first&#39;] = &#39;partridge&#39;;
gifts[&#39;second&#39;] = &#39;turtledoves&#39;;
gifts[&#39;fifth&#39;] = &#39;golden rings&#39;;

var nobleGases = Map();
nobleGases[2] = &#39;helium&#39;;
nobleGases[10] = &#39;neon&#39;;
nobleGases[18] = &#39;argon&#39;;
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šæ‚¨å¯èƒ½å¸Œæœ›çœ‹åˆ°<code>new Map()</code>è€Œä¸ä»…ä»…æ˜¯<code>Map()</code>ã€‚ä»Dart 2å¼€å§‹ï¼Œnewå…³é”®å­—æ˜¯å¯é€‰çš„ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä½¿ç”¨æ„é€ å‡½æ•°.</p>
</blockquote>

<p>åƒåœ¨JavaScriptä¸­ä¸€æ ·ï¼Œå°†æ–°çš„é”®å€¼å¯¹æ·»åŠ åˆ°ç°æœ‰mapï¼š</p>

<pre><code class="language-Dart">var gifts = {&#39;first&#39;: &#39;partridge&#39;};
gifts[&#39;fourth&#39;] = &#39;calling birds&#39;; // Add a key-value pair
</code></pre>

<p>ä»¥ä¸åœ¨JavaScriptä¸­ç›¸åŒçš„æ–¹å¼ä»mapä¸­æ£€ç´¢å€¼ï¼š</p>

<pre><code class="language-Dart">var gifts = {&#39;first&#39;: &#39;partridge&#39;};
assert(gifts[&#39;first&#39;] == &#39;partridge&#39;);
</code></pre>

<p>å¦‚æœæ‚¨æŸ¥æ‰¾ä¸åœ¨mapä¸­çš„é”®ï¼Œåˆ™è¿”å›nullï¼š</p>

<pre><code class="language-Dart">var gifts = {&#39;first&#39;: &#39;partridge&#39;};
assert(gifts[&#39;fifth&#39;] == null);
</code></pre>

<p>ä½¿ç”¨<code>.length</code>æ¥è·å–mapä¸­é”®å€¼å¯¹çš„æ•°é‡ï¼š</p>

<pre><code class="language-Dart">final constantMap = const {
  2: &#39;helium&#39;,
  10: &#39;neon&#39;,
  18: &#39;argon&#39;,
};

// constantMap[2] = &#39;Helium&#39;; // Uncommenting this causes an error.
</code></pre>

<p>æœ‰å…³åœ°å›¾çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æ³›å‹å’Œmapsã€‚</p>

<h3 id="toc_16">Runes</h3>

<p>åœ¨Dartä¸­ï¼ŒRunesæ˜¯å­—ç¬¦ä¸²çš„UTF-32ç¼–ç ã€‚</p>

<p>Unicodeä¸ºä¸–ç•Œä¸Šæ‰€æœ‰ä¹¦å†™ç³»ç»Ÿä¸­ä½¿ç”¨çš„æ¯ä¸ªå­—æ¯ï¼Œæ•°å­—å’Œç¬¦å·å®šä¹‰å”¯ä¸€çš„æ•°å€¼ã€‚ç”±äºDartå­—ç¬¦ä¸²æ˜¯ä¸€ç³»åˆ—UTF-16ä»£ç å•å…ƒï¼Œå› æ­¤åœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤º32ä½Unicodeå€¼éœ€è¦ç‰¹æ®Šè¯­æ³•ã€‚</p>

<p>è¡¨è¾¾Unicodeä»£ç ç‚¹çš„å¸¸ç”¨æ–¹æ³•æ˜¯<code>\uXXXX</code>ï¼Œå…¶ä¸­XXXXæ˜¯4ä½åå…­è¿›åˆ¶å€¼ã€‚ä¾‹å¦‚ï¼Œå¿ƒè„ç¬¦å·ï¼ˆâ™¥ï¼‰æ˜¯<code>\u2665</code>ã€‚è¦æŒ‡å®šå¤šäºæˆ–å°‘äº4ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼Œè¯·å°†å€¼æ”¾åœ¨å¤§æ‹¬å·ä¸­ã€‚ä¾‹å¦‚ï¼Œç¬‘çš„è¡¨æƒ…ç¬¦å·ï¼ˆğŸ˜†ï¼‰æ˜¯<code>\u{1f600}</code>ã€‚</p>

<p>Stringç±»æœ‰å‡ ä¸ªå±æ€§å¯ç”¨äºæå–ç¬¦æ–‡ä¿¡æ¯ã€‚ codeUnitAtå’ŒcodeUnitå±æ€§è¿”å›16ä½ä»£ç å•å…ƒã€‚ä½¿ç”¨runeså±æ€§è·å–å­—ç¬¦ä¸²çš„æ–‡æœ¬ã€‚</p>

<p>ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜äº†ç¬¦æ–‡ï¼Œ16ä½ä»£ç å•å…ƒå’Œ32ä½ä»£ç ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚å†Dart Padä¸­å•å‡»â€œè¿è¡Œâ€æŒ‰é’®ä»¥æŸ¥çœ‹è¿è¡Œä¸­çš„ç¬¦æ–‡ã€‚</p>

<pre><code class="language-Dart">main() {
  var clapping = &#39;\u{1f44f}&#39;;
  print(clapping);
  print(clapping.codeUnits);
  print(clapping.runes.toList());

  Runes input = new Runes(
      &#39;\u2665  \u{1f605}  \u{1f60e}  \u{1f47b}  \u{1f596}  \u{1f44d}&#39;);
  print(new String.fromCharCodes(input));
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šä½¿ç”¨åˆ—è¡¨æ“ä½œæ“ä½œç¬¦æ–‡æ—¶è¦å°å¿ƒã€‚è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“åˆ†è§£ï¼Œå…·ä½“å–å†³äºç‰¹å®šçš„è¯­è¨€ï¼Œå­—ç¬¦é›†å’Œæ“ä½œã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="http://stackoverflow.com/questions/21521729/how-do-i-reverse-a-string-in-dart">å¦‚ä½•åœ¨Dartä¸­åè½¬å­—ç¬¦ä¸²ï¼Ÿ</a>åœ¨Stack Overflowä¸Šã€‚</p>
</blockquote>

<h3 id="toc_17">Symbols</h3>

<p>Symbolå¯¹è±¡è¡¨ç¤ºåœ¨Dartç¨‹åºä¸­å£°æ˜çš„è¿ç®—ç¬¦æˆ–æ ‡è¯†ç¬¦ã€‚æ‚¨å¯èƒ½æ°¸è¿œä¸éœ€è¦ä½¿ç”¨ç¬¦å·ï¼Œä½†å®ƒä»¬å¯¹äºæŒ‰åç§°å¼•ç”¨æ ‡è¯†ç¬¦çš„APIéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºç¼©å°ä¼šæ›´æ”¹æ ‡è¯†ç¬¦åç§°è€Œä¸ä¼šæ›´æ”¹æ ‡è¯†ç¬¦ç¬¦å·ã€‚</p>

<p>è¦è·å–æ ‡è¯†ç¬¦çš„ç¬¦å·ï¼Œè¯·ä½¿ç”¨ç¬¦å·æ–‡å­—ï¼Œå®ƒåªæ˜¯ï¼ƒåè·Ÿæ ‡è¯†ç¬¦ï¼š</p>

<pre><code class="language-Dart">#radix
#bar
</code></pre>

<p>ç¬¦å·æ–‡å­—æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p>

<h2 id="toc_18">Functions</h2>

<p>Dartæ˜¯ä¸€ç§çœŸæ­£çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå› æ­¤å³ä½¿æ˜¯å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡å¹¶ä¸”å…·æœ‰ç±»å‹ã€‚è¿™æ„å‘³ç€å‡½æ•°å¯ä»¥åˆ†é…ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚æ‚¨ä¹Ÿå¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨Dartç±»çš„å®ä¾‹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å¯è°ƒç”¨ç±»ã€‚</p>

<p>ä»¥ä¸‹æ˜¯å®ç°å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">bool isNoble(int atomicNumber) {
  return _nobleGases[atomicNumber] != null;
}
</code></pre>

<p>è™½ç„¶Effective Dartå»ºè®®<a href="https://www.dartlang.org/guides/language/effective-dart/design#prefer-type-annotating-public-fields-and-top-level-variables-if-the-type-isnt-obvious">ä¸ºå…¬å…±APIå£°æ˜ç±»å‹</a>ï¼Œä½†å¦‚æœçœç•¥ç±»å‹ï¼Œè¯¥å‡½æ•°ä»ç„¶æœ‰æ•ˆï¼š</p>

<pre><code class="language-Dart">isNoble(atomicNumber) {
  return _nobleGases[atomicNumber] != null;
}
</code></pre>

<p>å¯¹äºåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ç®€å†™è¯­æ³•ï¼š</p>

<pre><code class="language-Dart">bool isNoble(int atomicNumber) =&gt; _nobleGases[atomicNumber] != null;
</code></pre>

<p><code>=&gt; expr</code>è¯­æ³•æ˜¯<code>{return expr;}</code>çš„ç®€å†™ã€‚ <code>=&gt;</code>è¡¨ç¤ºæ³•æœ‰æ—¶ç§°ä¸º<em>arrow syntax</em>ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šç®­å¤´ï¼ˆ=&gt;ï¼‰å’Œåˆ†å·ï¼ˆ;ï¼‰ä¹‹é—´åªèƒ½å‡ºç°è¡¨è¾¾å¼è€Œéè¯­å¥ã€‚ä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½åœ¨å…¶ä¸­æ”¾ç½®<a href="https://www.dartlang.org/guides/language/language-tour#if-and-else">ifè¯­å¥</a>ï¼Œä½†å¯ä»¥ä½¿ç”¨<a href="https://www.dartlang.org/guides/language/language-tour#conditional-expressions">æ¡ä»¶è¡¨è¾¾å¼</a>ã€‚</p>
</blockquote>

<p>å‡½æ•°å¯ä»¥æœ‰ä¸¤ç§ç±»å‹çš„å‚æ•°ï¼šå¿…éœ€å’Œå¯é€‰ã€‚é¦–å…ˆåˆ—å‡ºæ‰€éœ€å‚æ•°ï¼Œç„¶ååˆ—å‡ºä»»ä½•å¯é€‰å‚æ•°ã€‚å‘½åçš„å¯é€‰å‚æ•°ä¹Ÿå¯ä»¥æ ‡è®°ä¸º@requiredã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹ä¸€èŠ‚ã€‚</p>

<h3 id="toc_19">å¯é€‰å‚æ•°</h3>

<p>å¯é€‰å‚æ•°å¯ä»¥æ˜¯ä½ç½®å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å‘½åå‚æ•°ï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨.</p>

<h4 id="toc_20">å¯é€‰å‘½åå‚æ•°</h4>

<p>è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>paramName: value</code>æŒ‡å®šå‘½åå‚æ•°ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">enableFlags(bold: true, hidden: false);
</code></pre>

<p>å®šä¹‰å‡½æ•°æ—¶ï¼Œä½¿ç”¨<code>{param1,param2, ...}</code>æŒ‡å®šå‘½åå‚æ•°ï¼š</p>

<pre><code class="language-Dart">/// Sets the [bold] and [hidden] flags ...
void enableFlags({bool bold, bool hidden}) {...}
</code></pre>

<p><a href="https://flutter.io/">Flutter</a>å®ä¾‹åˆ›å»ºè¡¨è¾¾å¼å¯èƒ½å˜å¾—å¤æ‚ï¼Œå› æ­¤çª—å£å°éƒ¨ä»¶æ„é€ å‡½æ•°ä»…ä½¿ç”¨å‘½åå‚æ•°ã€‚è¿™ä½¿å¾—å®ä¾‹åˆ›å»ºè¡¨è¾¾å¼æ›´æ˜“äºé˜…è¯»ã€‚</p>

<p>æ‚¨å¯ä»¥ä½¿ç”¨@requiredåœ¨ä»»ä½•Dartä»£ç ï¼ˆä¸ä»…ä»…æ˜¯Flutterï¼‰ä¸­æ³¨é‡Šå‘½åå‚æ•°ï¼Œä»¥æŒ‡ç¤ºå®ƒæ˜¯å¿…éœ€å‚æ•°ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">const Scrollbar({Key key, @required Widget child})
</code></pre>

<p>æ„å»ºScrollbaræ—¶ï¼Œåˆ†æå™¨ä¼šåœ¨<code>child</code>å‚æ•°ä¸å­˜åœ¨æ—¶æŠ¥å‘Šé—®é¢˜ã€‚</p>

<p><a href="https://pub.dartlang.org/documentation/meta/latest/meta/required-constant.html">Required</a>åœ¨<a href="https://pub.dartlang.org/packages/meta">meta</a>åŒ…ä¸­å®šä¹‰ã€‚å¯ä»¥ç›´æ¥å¯¼å…¥åŒ…ï¼š<code>package:meta/meta.dart</code>ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥å¦ä¸€ä¸ªè¾“å‡º<code>meta</code>çš„åŒ…ï¼Œä¾‹å¦‚Flutterçš„åŒ…ï¼š<code>package:flutter/material.dart</code>ã€‚</p>

<h4 id="toc_21">å¯é€‰ä½ç½®å‚æ•°</h4>

<p>åœ¨<code>[]</code>ä¸­æ‹¬èµ·æ¥ä¸€ç»„å‡½æ•°å‚æ•°å°†å®ƒä»¬æ ‡è®°ä¸ºå¯é€‰çš„ä½ç½®å‚æ•°ï¼š</p>

<pre><code class="language-Dart">String say(String from, String msg, [String device]) {
  var result = &#39;$from says $msg&#39;;
  if (device != null) {
    result = &#39;$result with a $device&#39;;
  }
  return result;
}
</code></pre>

<p>è¿™æ˜¯ä¸€ä¸ªåœ¨æ²¡æœ‰å¯é€‰å‚æ•°çš„æƒ…å†µä¸‹è°ƒç”¨æ­¤å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">assert(say(&#39;Bob&#39;, &#39;Howdy&#39;) == &#39;Bob says Howdy&#39;);
</code></pre>

<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°è°ƒç”¨æ­¤å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">assert(say(&#39;Bob&#39;, &#39;Howdy&#39;, &#39;smoke signal&#39;) ==
    &#39;Bob says Howdy with a smoke signal&#39;);
</code></pre>

<h3 id="toc_22">å‚æ•°é»˜è®¤å€¼</h3>

<p>æ‚¨çš„å‡½æ•°å¯ä»¥ä½¿ç”¨=æ¥å®šä¹‰å‘½åå’Œä½ç½®å‚æ•°çš„é»˜è®¤å€¼ã€‚é»˜è®¤å€¼å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚å¦‚æœæœªæä¾›é»˜è®¤å€¼ï¼Œåˆ™é»˜è®¤å€¼ä¸ºnullã€‚</p>

<p>ä»¥ä¸‹æ˜¯ä¸ºå‘½åå‚æ•°è®¾ç½®é»˜è®¤å€¼çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">/// Sets the [bold] and [hidden] flags ...
void enableFlags({bool bold = false, bool hidden = false}) {...}

// bold will be true; hidden will be false.
enableFlags(bold: true);
</code></pre>

<blockquote>
<p>å¼ƒç”¨æ³¨é‡Šï¼šæ—§ä»£ç å¯èƒ½ä½¿ç”¨å†’å·<code>:</code>è€Œä¸æ˜¯<code>=</code>æ¥è®¾ç½®å‘½åå‚æ•°çš„é»˜è®¤å€¼ã€‚åŸå› æ˜¯æœ€åˆåªæœ‰<code>:</code>æ”¯æŒå‘½åå‚æ•°ã€‚è¯¥æ”¯æŒå¯èƒ½å·²å¼ƒç”¨ï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨=æ¥æŒ‡å®šé»˜è®¤å€¼ã€‚</p>
</blockquote>

<p>ä¸‹ä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä¸ºä½ç½®å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼š</p>

<pre><code class="language-Dart">String say(String from, String msg,
    [String device = &#39;carrier pigeon&#39;, String mood]) {
  var result = &#39;$from says $msg&#39;;
  if (device != null) {
    result = &#39;$result with a $device&#39;;
  }
  if (mood != null) {
    result = &#39;$result (in a $mood mood)&#39;;
  }
  return result;
}

assert(say(&#39;Bob&#39;, &#39;Howdy&#39;) ==
    &#39;Bob says Howdy with a carrier pigeon&#39;);
</code></pre>

<p>æ‚¨è¿˜å¯ä»¥å°†Listsæˆ–mapsä½œä¸ºé»˜è®¤å€¼ä¼ é€’ã€‚ä»¥ä¸‹ç¤ºä¾‹å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°doStuff()ï¼Œè¯¥å‡½æ•°æŒ‡å®šlistå‚æ•°çš„é»˜è®¤listå’Œgiftså‚æ•°çš„é»˜è®¤mapã€‚</p>

<pre><code class="language-Dart">void doStuff(
    {List&lt;int&gt; list = const [1, 2, 3],
    Map&lt;String, String&gt; gifts = const {
      &#39;first&#39;: &#39;paper&#39;,
      &#39;second&#39;: &#39;cotton&#39;,
      &#39;third&#39;: &#39;leather&#39;
    }}) {
  print(&#39;list:  $list&#39;);
  print(&#39;gifts: $gifts&#39;);
}
</code></pre>

<h2 id="toc_23">main()å‡½æ•°</h2>

<p>æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½å¿…é¡»å…·æœ‰é¡¶çº§main()å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨ä½œåº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚ main()å‡½æ•°è¿”å›voidï¼Œå¹¶ä¸ºå‚æ•°æä¾›å¯é€‰çš„List <String>å‚æ•°ã€‚</p>

<p>ä»¥ä¸‹æ˜¯Webåº”ç”¨ç¨‹åºçš„main()å‡½æ•°ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">void main() {
  querySelector(&#39;#sample_text_id&#39;)
    ..text = &#39;Click me!&#39;
    ..onClick.listen(reverseText);
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šå‰é¢ä»£ç ä¸­çš„<code>..</code>è¯­æ³•ç§°ä¸º<a href="https://www.dartlang.org/guides/language/language-tour#cascade-notation-">çº§è”</a>ã€‚ä½¿ç”¨çº§è”ï¼Œæ‚¨å¯ä»¥å¯¹å•ä¸ªå¯¹è±¡çš„æˆå‘˜æ‰§è¡Œå¤šä¸ªæ“ä½œã€‚</p>
</blockquote>

<p>ä»¥ä¸‹æ˜¯å¸¦å‚æ•°çš„å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºçš„mainï¼ˆï¼‰å‡½æ•°ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">// Run the app like this: dart args.dart 1 test
void main(List&lt;String&gt; arguments) {
  print(arguments);

  assert(arguments.length == 2);
  assert(int.parse(arguments[0]) == 1);
  assert(arguments[1] == &#39;test&#39;);
}
</code></pre>

<p>æ‚¨å¯ä»¥ä½¿ç”¨argsåº“æ¥å®šä¹‰å’Œè§£æå‘½ä»¤è¡Œå‚æ•°ã€‚</p>

<h3 id="toc_24">å‡½æ•°ä½œä¸ºç¬¬ä¸€ç±»å¯¹è±¡</h3>

<p>æ‚¨å¯ä»¥å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">void printElement(int element) {
  print(element);
}

var list = [1, 2, 3];

// Pass printElement as a parameter.
list.forEach(printElement);
</code></pre>

<p>æ‚¨è¿˜å¯ä»¥ä¸ºå˜é‡åˆ†é…å‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">var loudify = (msg) =&gt; &#39;!!! ${msg.toUpperCase()} !!!&#39;;
assert(loudify(&#39;hello&#39;) == &#39;!!! HELLO !!!&#39;);
</code></pre>

<p>æ­¤ç¤ºä¾‹ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚æ›´å¤šå…³äºä¸‹ä¸€èŠ‚çš„å†…å®¹ã€‚</p>

<h3 id="toc_25">åŒ¿åå‡½æ•°</h3>

<p>å¤§å¤šæ•°å‡½æ•°éƒ½è¢«å‘½åï¼Œä¾‹å¦‚main()æˆ–printElement()ã€‚æ‚¨è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºåŒ¿åå‡½æ•°çš„æ— åå‡½æ•°ï¼Œæœ‰æ—¶ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªlambdaæˆ–é—­åŒ…ã€‚æ‚¨å¯ä»¥ä¸ºå˜é‡åˆ†é…åŒ¿åå‡½æ•°ï¼Œä»¥ä¾¿ä¾‹å¦‚å¯ä»¥åœ¨é›†åˆä¸­æ·»åŠ æˆ–åˆ é™¤å®ƒã€‚</p>

<p>åŒ¿åå‡½æ•°çœ‹èµ·æ¥ç±»ä¼¼äºå‘½åå‡½æ•° - é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œåœ¨é€—å·å’Œæ‹¬å·ä¹‹é—´ç”¨é€—å·å’Œå¯é€‰ç±»å‹æ³¨é‡Šåˆ†éš”ã€‚</p>

<p><code>([[Type] param1[, â€¦]]) { <br/>
  codeBlock; <br/>
};</code></p>

<p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨æ— ç±»å‹å‚æ•°itemå®šä¹‰åŒ¿åå‡½æ•°ã€‚ä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹è°ƒç”¨çš„å‡½æ•°å°†æ‰“å°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²åŒ…å«æŒ‡å®šç´¢å¼•å¤„çš„å€¼ã€‚</p>

<pre><code class="language-Dart">var list = [&#39;apples&#39;, &#39;bananas&#39;, &#39;oranges&#39;];
list.forEach((item) {
  print(&#39;${list.indexOf(item)}: $item&#39;);
});
</code></pre>

<pre><code class="language-Dart">void main() {
  var list = [&#39;apples&#39;, &#39;bananas&#39;, &#39;oranges&#39;];
  list.forEach((item) {
    print(&#39;${list.indexOf(item)}: $item&#39;);
  });
}
</code></pre>

<p>å¦‚æœå‡½æ•°åªåŒ…å«ä¸€ä¸ªè¯­å¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç®­å¤´è¡¨ç¤ºæ³•ç¼©çŸ­å®ƒã€‚å°†ä»¥ä¸‹è¡Œç²˜è´´åˆ°DartPadä¸­ï¼Œç„¶åå•å‡»â€œè¿è¡Œâ€ä»¥éªŒè¯å®ƒæ˜¯å¦åœ¨åŠŸèƒ½ä¸Šç­‰æ•ˆã€‚</p>

<p>ä»¥ä¸‹æ˜¯åœ¨æ¯ä¸ªèŒƒå›´çº§åˆ«å…·æœ‰å˜é‡çš„åµŒå¥—å‡½æ•°çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">bool topLevel = true;

void main() {
  var insideMain = true;

  void myFunction() {
    var insideFunction = true;

    void nestedFunction() {
      var insideNestedFunction = true;

      assert(topLevel);
      assert(insideMain);
      assert(insideFunction);
      assert(insideNestedFunction);
    }
  }
}
</code></pre>

<p>æ³¨æ„<code>nestedFunction()</code>å¦‚ä½•ä½¿ç”¨æ¯ä¸ªçº§åˆ«çš„å˜é‡ï¼Œä¸€ç›´åˆ°é¡¶çº§ã€‚</p>

<h3 id="toc_26">é—­åŒ…</h3>

<p>é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå®ƒå¯ä»¥è®¿é—®å…¶è¯æ³•èŒƒå›´ä¸­çš„å˜é‡ï¼Œå³ä½¿è¯¥å‡½æ•°åœ¨å…¶åŸå§‹èŒƒå›´ä¹‹å¤–ä½¿ç”¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>

<p>å‡½æ•°å¯ä»¥å…³é—­å‘¨å›´èŒƒå›´ä¸­å®šä¹‰çš„å˜é‡ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œ<code>makeAdder()</code>æ•è·å˜é‡<code>addBy</code>ã€‚æ— è®ºè¿”å›çš„å‡½æ•°åœ¨å“ªé‡Œï¼Œå®ƒéƒ½ä¼šè®°ä½addByã€‚</p>

<pre><code class="language-Dart">/// Returns a function that adds [addBy] to the
/// function&#39;s argument.
Function makeAdder(num addBy) {
  return (num i) =&gt; addBy + i;
}

void main() {
  // Create a function that adds 2.
  var add2 = makeAdder(2);

  // Create a function that adds 4.
  var add4 = makeAdder(4);

  assert(add2(3) == 5);
  assert(add4(3) == 7);
}
</code></pre>

<h3 id="toc_27">æµ‹è¯•å‡½æ•°æ˜¯å¦ç›¸ç­‰</h3>

<p>ä»¥ä¸‹æ˜¯æµ‹è¯•é¡¶çº§å‡½æ•°ï¼Œé™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">void foo() {} // A top-level function

class A {
  static void bar() {} // A static method
  void baz() {} // An instance method
}

void main() {
  var x;

  // Comparing top-level functions.
  x = foo;
  assert(foo == x);

  // Comparing static methods.
  x = A.bar;
  assert(A.bar == x);

  // Comparing instance methods.
  var v = A(); // Instance #1 of A
  var w = A(); // Instance #2 of A
  var y = w;
  x = w.baz;

  // These closures refer to the same instance (#2),
  // so they&#39;re equal.
  assert(y.baz == x);

  // These closures refer to different instances,
  // so they&#39;re unequal.
  assert(v.baz != w.baz);
}
</code></pre>

<h3 id="toc_28">è¿”å›å€¼</h3>

<p>æ‰€æœ‰å‡½æ•°éƒ½è¿”å›ä¸€ä¸ªå€¼ã€‚å¦‚æœæœªæŒ‡å®šè¿”å›å€¼ï¼Œåˆ™è¯¥è¯­å¥è¿”å›null;éšå¼é™„åŠ åˆ°å‡½æ•°ä½“ã€‚</p>

<pre><code class="language-Dart">foo() {}

assert(foo() == null);
</code></pre>

<h2 id="toc_29">è¿ç®—ç¬¦</h2>

<p>Dartå®šä¹‰ä¸‹è¡¨ä¸­æ˜¾ç¤ºçš„è¿ç®—ç¬¦ã€‚æ‚¨å¯ä»¥è¦†ç›–å…¶ä¸­è®¸å¤šè¿ç®—ç¬¦ï¼Œå¦‚å¯<a href="https://www.dartlang.org/guides/language/language-tour#overridable-operators">è¦†ç›–è¿ç®—ç¬¦</a>ä¸­æ‰€è¿°ã€‚</p>

<table>
<thead>
<tr>
<th>Description</th>
<th>Operator</th>
</tr>
</thead>

<tbody>
<tr>
<td>unary postfix</td>
<td>expr++    expr--    ()    []    .    ?.</td>
</tr>
<tr>
<td>unary prefix</td>
<td>-expr    !expr    ~expr    ++expr    --expr</td>
</tr>
<tr>
<td>multiplicative</td>
<td>*    /    %  ~/</td>
</tr>
<tr>
<td>additive</td>
<td>+    -</td>
</tr>
<tr>
<td>shift</td>
<td>&lt;&lt;    &gt;&gt;</td>
</tr>
<tr>
<td>bitwise AND</td>
<td>&amp;</td>
</tr>
<tr>
<td>bitwise XOR</td>
<td>^</td>
</tr>
<tr>
<td>bitwise OR</td>
<td></td>
</tr>
<tr>
<td>relational and type test</td>
<td>&gt;=    &gt;    &lt;=    &lt;    as    is    is!</td>
</tr>
<tr>
<td>equality</td>
<td>==    !=</td>
</tr>
<tr>
<td>logical AND</td>
<td>&amp;&amp;</td>
</tr>
<tr>
<td>logical OR</td>
<td></td>
</tr>
<tr>
<td>if null</td>
<td>??</td>
</tr>
<tr>
<td>conditional</td>
<td>expr1 ? expr2 : expr3</td>
</tr>
<tr>
<td>cascade</td>
<td>..</td>
</tr>
<tr>
<td>assignment</td>
<td>=    *=    /=    ~/=    %=    +=    -=    &lt;&lt;=    &gt;&gt;=    &amp;=    <sup>=</sup></td>
</tr>
</tbody>
</table>

<p>ä½¿ç”¨è¿ç®—ç¬¦æ—¶ï¼Œå¯ä»¥åˆ›å»ºè¡¨è¾¾å¼ã€‚ä»¥ä¸‹æ˜¯è¿ç®—ç¬¦è¡¨è¾¾å¼çš„ä¸€äº›ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">a++
a + b
a = b
a == b
c ? a : b
a is T
</code></pre>

<p>åœ¨è¿ç®—ç¬¦è¡¨ä¸­ï¼Œæ¯ä¸ªè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºå…¶åçš„è¡Œä¸­çš„è¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œä¹˜æ³•è¿ç®—ç¬¦ï¼…çš„ä¼˜å…ˆçº§é«˜äºï¼ˆå› æ­¤ä¹‹å‰æ‰§è¡Œï¼‰ç­‰äºè¿ç®—ç¬¦==ï¼Œå®ƒçš„ä¼˜å…ˆçº§é«˜äºé€»è¾‘ANDè¿ç®—ç¬¦&amp;&amp;ã€‚è¯¥ä¼˜å…ˆçº§æ„å‘³ç€ä»¥ä¸‹ä¸¤è¡Œä»£ç æ‰§è¡Œç›¸åŒçš„æ–¹å¼ï¼š</p>

<pre><code class="language-Dart">// Parentheses improve readability.
if ((n % i == 0) &amp;&amp; (d % i == 0)) ...

// Harder to read, but equivalent.
if (n % i == 0 &amp;&amp; d % i == 0) ...
</code></pre>

<blockquote>
<p>è­¦å‘Šï¼šå¯¹äºå¤„ç†ä¸¤ä¸ªæ“ä½œæ•°çš„è¿ç®—ç¬¦ï¼Œæœ€å·¦è¾¹çš„æ“ä½œæ•°ç¡®å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„è¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰Vectorå¯¹è±¡å’ŒPointå¯¹è±¡ï¼Œåˆ™<code>aVector + aPoint</code>ä½¿ç”¨Vectorç‰ˆæœ¬çš„+ã€‚</p>
</blockquote>

<h3 id="toc_30">ç®—æœ¯è¿ç®—ç¬¦</h3>

<p>Dartæ”¯æŒé€šå¸¸çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>+</td>
<td>Add</td>
</tr>
<tr>
<td>â€“</td>
<td>Subtract</td>
</tr>
<tr>
<td>-expr</td>
<td>Unary minus, also known as negation (reverse the sign of the expression) ä¸€å…ƒå‡å·ï¼Œä¹Ÿç§°ä¸ºå¦å®šï¼ˆåè½¬è¡¨è¾¾å¼çš„ç¬¦å·ï¼‰</td>
</tr>
<tr>
<td>*</td>
<td>Multiply</td>
</tr>
<tr>
<td>/</td>
<td>Divide</td>
</tr>
<tr>
<td>~/</td>
<td>Divide, returning an integer result</td>
</tr>
<tr>
<td>%</td>
<td>Get the remainder of an integer division (modulo)</td>
</tr>
</tbody>
</table>

<p>Example:</p>

<pre><code class="language-Dart">assert(2 + 3 == 5);
assert(2 - 3 == -1);
assert(2 * 3 == 6);
assert(5 / 2 == 2.5); // Result is a double
assert(5 ~/ 2 == 2); // Result is an int
assert(5 % 2 == 1); // Remainder

assert(&#39;5/2 = ${5 ~/ 2} r ${5 % 2}&#39; == &#39;5/2 = 2 r 1&#39;);
</code></pre>

<p>Dartè¿˜æ”¯æŒå‰ç¼€å’Œåç¼€å¢é‡å’Œå‡é‡è¿ç®—ç¬¦ã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>++var</td>
<td>var = var + 1 (expression value is var + 1)</td>
</tr>
<tr>
<td>var++</td>
<td>var = var + 1 (expression value is var)</td>
</tr>
<tr>
<td>--var</td>
<td>var = var â€“ 1 (expression value is var â€“ 1)</td>
</tr>
<tr>
<td>var--</td>
<td>var = var â€“ 1 (expression value is var)</td>
</tr>
</tbody>
</table>

<p>Example:</p>

<pre><code class="language-Dart">var a, b;

a = 0;
b = ++a; // Increment a before b gets its value.
assert(a == b); // 1 == 1

a = 0;
b = a++; // Increment a AFTER b gets its value.
assert(a != b); // 1 != 0

a = 0;
b = --a; // Decrement a before b gets its value.
assert(a == b); // -1 == -1

a = 0;
b = a--; // Decrement a AFTER b gets its value.
assert(a != b); // -1 != 0
</code></pre>

<h3 id="toc_31">ç›¸ç­‰å’Œå…³ç³»è¿ç®—ç¬¦</h3>

<p>ä¸‹è¡¨åˆ—å‡ºäº†ç›¸ç­‰å’Œå…³ç³»è¿ç®—ç¬¦çš„å«ä¹‰ã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>==</td>
<td>Equal; see discussion below</td>
</tr>
<tr>
<td>!=</td>
<td>Not equal</td>
</tr>
<tr>
<td>&gt;</td>
<td>Greater than</td>
</tr>
<tr>
<td>&lt;</td>
<td>Less than</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Greater than or equal to</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Less than or equal to</td>
</tr>
</tbody>
</table>

<p>è¦æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡xå’Œyæ˜¯å¦è¡¨ç¤ºç›¸åŒçš„äº‹ç‰©ï¼Œè¯·ä½¿ç”¨<mark>è¿ç®—ç¬¦ã€‚ ï¼ˆåœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦çŸ¥é“ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼Œè¯·ä½¿ç”¨<a href="https://api.dartlang.org/stable/dart-core/identical.html">identical()</a>å‡½æ•°ã€‚ï¼‰ä»¥ä¸‹æ˜¯</mark>è¿ç®—ç¬¦çš„å·¥ä½œåŸç†ï¼š</p>

<ol>
<li>å¦‚æœxæˆ–yä¸ºnullï¼Œåˆ™å¦‚æœä¸¤è€…éƒ½ä¸ºnullåˆ™è¿”å›true;å¦‚æœåªæœ‰ä¸€ä¸ªä¸ºnullï¼Œåˆ™è¿”å›falseã€‚</li>
<li>è¿”å›æ–¹æ³•è°ƒç”¨<code>x.==(y)</code>çš„ç»“æœã€‚ ï¼ˆæ²¡é”™ï¼Œè¿ç®—ç¬¦å¦‚<mark>æ˜¯åœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸Šè°ƒç”¨çš„æ–¹æ³•ã€‚ä½ ç”šè‡³å¯ä»¥<a href="https://www.dartlang.org/guides/language/language-tour#overridable-operators">è¦†ç›–è¿ç®—ç¬¦</a>ï¼ŒåŒ…æ‹¬</mark>ï¼Œæ­£å¦‚ä½ åœ¨Overridableè¿ç®—ç¬¦ä¸­çœ‹åˆ°çš„é‚£æ ·ã€‚ï¼‰</li>
</ol>

<p>è¿™æ˜¯ä½¿ç”¨æ¯ä¸ªç›¸ç­‰å’Œå…³ç³»è¿ç®—ç¬¦çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">assert(2 == 2);
assert(2 != 3);
assert(3 &gt; 2);
assert(2 &lt; 3);
assert(3 &gt;= 3);
assert(2 &lt;= 3);
</code></pre>

<h3 id="toc_32">ç±»å‹æµ‹è¯•è¿ç®—ç¬¦</h3>

<p>asï¼Œisï¼Œandï¼è¿ç®—ç¬¦åœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹å¾ˆæ–¹ä¾¿ã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>as</td>
<td>Typecast</td>
</tr>
<tr>
<td>is</td>
<td>True if the object has the specified type</td>
</tr>
<tr>
<td>is!</td>
<td>False if the object has the specified type</td>
</tr>
</tbody>
</table>

<p>å¦‚æœobjå®ç°ç”±TæŒ‡å®šçš„æ¥å£ï¼Œåˆ™<code>obj is T</code>çš„ç»“æœæ˜¯trueã€‚ä¾‹å¦‚ï¼Œ<code>obj is Object</code>å§‹ç»ˆä¸ºtrueã€‚</p>

<p>ä½¿ç”¨asè¿ç®—ç¬¦å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºç‰¹å®šç±»å‹ã€‚é€šå¸¸ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨å®ƒä½œä¸ºå¯¹ä½¿ç”¨è¯¥å¯¹è±¡çš„è¡¨è¾¾å¼åè·Ÿå¯¹è±¡çš„isæµ‹è¯•çš„ç®€å†™ã€‚ä¾‹å¦‚ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</p>

<pre><code class="language-Dart">if (emp is Person) {
  // Type check
  emp.firstName = &#39;Bob&#39;;
}
</code></pre>

<p>æ‚¨å¯ä»¥ä½¿ç”¨asè¿ç®—ç¬¦ç¼©çŸ­ä»£ç ï¼š</p>

<pre><code class="language-Dart">(emp as Person).firstName = &#39;Bob&#39;;
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šä¸¤æ®µä»£ç å¹¶ä¸ç­‰ä»·ã€‚å¦‚æœempä¸ºnullæˆ–ä¸æ˜¯Personï¼Œåˆ™ç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼ˆwith isï¼‰ä¸æ‰§è¡Œä»»ä½•æ“ä½œ;ç¬¬äºŒä¸ªï¼ˆå¸¦æœ‰asï¼‰æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p>
</blockquote>

<h3 id="toc_33">èµ‹å€¼è¿ç®—ç¬¦</h3>

<p>å¦‚æ‚¨æ‰€è§ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨=è¿ç®—ç¬¦æŒ‡å®šå€¼ã€‚è¦ä»…åœ¨assign-toå˜é‡ä¸ºnullæ—¶åˆ†é…ï¼Œè¯·ä½¿ç”¨<code>??=</code>è¿ç®—ç¬¦ã€‚</p>

<pre><code class="language-Dart">// èµ‹å€¼ç»™a
a = value;
// èµ‹å€¼ç»™bå¦‚æœbæ˜¯null; å¦åˆ™, b ä¿æŒä¸å˜
b ??= value;
</code></pre>

<p>å¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¦‚+ =ï¼‰å°†æ“ä½œä¸èµ‹å€¼ç»„åˆåœ¨ä¸€èµ·ã€‚</p>

<pre><code>=   
â€“=
/=  
%=
&gt;&gt;= 
^=
+=  
*=  
~/= 
&lt;&lt;= 
&amp;=  
|=
</code></pre>

<p>ä»¥ä¸‹æ˜¯å¤åˆèµ‹å€¼è¿ç®—ç¬¦çš„å·¥ä½œåŸç†ï¼š</p>

<table>
<thead>
<tr>
<th></th>
<th>(å¤åˆèµ‹å€¼)</th>
<th>(ç­‰ä»·è¡¨è¾¾)</th>
</tr>
</thead>

<tbody>
<tr>
<td>For an operator op:</td>
<td>a op= b</td>
<td>a = a op b</td>
</tr>
<tr>
<td>Example:</td>
<td>a += b</td>
<td>a = a + b</td>
</tr>
</tbody>
</table>

<p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨èµ‹å€¼å’Œå¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼š</p>

<pre><code class="language-Dart">var a = 2; // Assign using =
a *= 3; // Assign and multiply: a = a * 3
assert(a == 6);
</code></pre>

<h3 id="toc_34">é€»è¾‘è¿ç®—ç¬¦</h3>

<p>æ‚¨å¯ä»¥ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦åè½¬æˆ–ç»„åˆå¸ƒå°”è¡¨è¾¾å¼ã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>!expr</td>
<td>inverts the following expression (changes false to true, and vice versa)</td>
</tr>
<tr>
<td>||</td>
<td>logical OR</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>logical AND</td>
</tr>
</tbody>
</table>

<h3 id="toc_35">æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦</h3>

<p>æ‚¨å¯ä»¥åœ¨Dartä¸­æ“çºµæ•°å­—çš„å„ä¸ªä½ã€‚é€šå¸¸ï¼Œæ‚¨å°†ä½¿ç”¨è¿™äº›æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦å’Œæ•´æ•°ã€‚</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>&amp;</td>
<td>AND</td>
</tr>
<tr>
<td></td>
<td>OR</td>
</tr>
<tr>
<td>^</td>
<td>XOR</td>
</tr>
<tr>
<td>~expr</td>
<td>Unary bitwise complement (0s become 1s; 1s become 0s)</td>
</tr>
<tr>
<td>&lt;&lt;  Shift</td>
<td>left</td>
</tr>
<tr>
<td>&gt;&gt;  Shift</td>
<td>right</td>
</tr>
</tbody>
</table>

<p>è¿™æ˜¯ä½¿ç”¨æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">final value = 0x22;
final bitmask = 0x0f;

assert((value &amp; bitmask) == 0x02); // AND
assert((value &amp; ~bitmask) == 0x20); // AND NOT
assert((value | bitmask) == 0x2f); // OR
assert((value ^ bitmask) == 0x2d); // XOR
assert((value &lt;&lt; 4) == 0x220); // Shift left
assert((value &gt;&gt; 4) == 0x02); // Shift right
</code></pre>

<h3 id="toc_36">æ¡ä»¶è¡¨è¾¾å¼</h3>

<p>Dartæœ‰ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œå¯ä»¥è®©æ‚¨ç®€æ˜åœ°è®¡ç®—å¯èƒ½éœ€è¦<a href="https://www.dartlang.org/guides/language/language-tour#if-and-else">if-else</a>è¯­å¥çš„è¡¨è¾¾å¼ï¼š</p>

<p><code>condition ? expr1 : expr2</code></p>

<p>å¦‚æœconditionä¸ºtrueï¼Œåˆ™è®¡ç®—expr1ï¼ˆå¹¶è¿”å›å…¶å€¼ï¼‰;å¦åˆ™ï¼Œè®¡ç®—å¹¶è¿”å›expr2çš„å€¼ã€‚</p>

<p><code>expr1 ?? expr2</code></p>

<p>å¦‚æœexpr1ä¸ºénullï¼Œåˆ™è¿”å›å…¶å€¼;å¦åˆ™ï¼Œè®¡ç®—å¹¶è¿”å›expr2çš„å€¼ã€‚</p>

<p>å½“æ‚¨éœ€è¦æ ¹æ®å¸ƒå°”è¡¨è¾¾å¼èµ‹å€¼æ—¶ï¼Œè¯·è€ƒè™‘ä½¿ç”¨<code>?:</code>ã€‚</p>

<pre><code class="language-Dart">var visibility = isPublic ? &#39;public&#39; : &#39;private&#39;;
</code></pre>

<p>å¦‚æœå¸ƒå°”è¡¨è¾¾å¼æµ‹è¯•ä¸ºnullï¼Œè¯·è€ƒè™‘ä½¿ç”¨<code>??</code>ã€‚</p>

<pre><code class="language-Dart">String playerName(String name) =&gt; name ?? &#39;Guest&#39;;
</code></pre>

<p>å‰é¢çš„ä¾‹å­è‡³å°‘å¯ä»¥ç”¨å…¶ä»–ä¸¤ç§æ–¹å¼ç¼–å†™ï¼Œä½†ä¸æ˜¯ç®€æ´çš„ï¼š</p>

<pre><code class="language-Dart">// Slightly longer version uses ?: operator.
String playerName(String name) =&gt; name != null ? name : &#39;Guest&#39;;

// Very long version uses if-else statement.
String playerName(String name) {
  if (name != null) {
    return name;
  } else {
    return &#39;Guest&#39;;
  }
}
</code></pre>

<h3 id="toc_37">çº§è”ç¬¦å·(..)</h3>

<p>Cascadesï¼ˆ..ï¼‰å…è®¸æ‚¨å¯¹åŒä¸€å¯¹è±¡è¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚é™¤äº†å‡½æ•°è°ƒç”¨ï¼Œæ‚¨è¿˜å¯ä»¥è®¿é—®åŒä¸€å¯¹è±¡ä¸Šçš„å­—æ®µã€‚è¿™é€šå¸¸å¯ä»¥ä¸ºæ‚¨èŠ‚çœåˆ›å»ºä¸´æ—¶å˜é‡çš„æ­¥éª¤ï¼Œå¹¶å…è®¸æ‚¨ç¼–å†™æ›´æµç•…çš„ä»£ç ã€‚</p>

<p>è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</p>

<pre><code class="language-Dart">querySelector(&#39;#confirm&#39;) // è·å–å¯¹è±¡.
  ..text = &#39;Confirm&#39; // ä½¿ç”¨æˆå‘˜å˜é‡.
  ..classes.add(&#39;important&#39;)
  ..onClick.listen((e) =&gt; window.alert(&#39;Confirmed!&#39;));
</code></pre>

<p>ç¬¬ä¸€ä¸ªæ–¹æ³•è°ƒç”¨<code>querySelector()</code>è¿”å›ä¸€ä¸ªé€‰æ‹©å™¨å¯¹è±¡ã€‚çº§è”è¡¨ç¤ºæ³•åé¢çš„ä»£ç å¯¹æ­¤é€‰æ‹©å™¨å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œ<strong>å¿½ç•¥å¯èƒ½è¿”å›çš„ä»»ä½•åç»­å€¼</strong>ã€‚</p>

<p>å‰é¢çš„ç¤ºä¾‹ç›¸å½“äºï¼š</p>

<pre><code class="language-Dart">var button = querySelector(&#39;#confirm&#39;);
button.text = &#39;Confirm&#39;;
button.classes.add(&#39;important&#39;);
button.onClick.listen((e) =&gt; window.alert(&#39;Confirmed!&#39;));
</code></pre>

<p>æ‚¨ä¹Ÿå¯ä»¥åµŒå¥—æ‚¨çš„çº§è”ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">final addressBook = (AddressBookBuilder()
      ..name = &#39;jenny&#39;
      ..email = &#39;jenny@example.com&#39;
      ..phone = (PhoneNumberBuilder()
            ..number = &#39;415-555-0100&#39;
            ..label = &#39;home&#39;)
          .build())
    .build();
</code></pre>

<p>å°å¿ƒåœ¨è¿”å›å®é™…å¯¹è±¡çš„å‡½æ•°ä¸Šæ„é€ çº§è”ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å¤±è´¥ï¼š</p>

<pre><code class="language-Dart">var sb = StringBuffer();
sb.write(&#39;foo&#39;)
  ..write(&#39;bar&#39;); // Error: method &#39;write&#39; isn&#39;t defined for &#39;void&#39;.
</code></pre>

<p><code>sb.write()</code>è°ƒç”¨è¿”å›voidï¼Œæ‚¨æ— æ³•åœ¨voidä¸Šæ„é€ çº§è”ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šä¸¥æ ¼æ¥è¯´ï¼Œçº§è”çš„â€œåŒç‚¹â€ç¬¦å·ä¸æ˜¯è¿ç®—ç¬¦ã€‚å®ƒåªæ˜¯Dartè¯­æ³•çš„ä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>

<h3 id="toc_38">å…¶ä»–è¿ç®—ç¬¦</h3>

<p>åœ¨å…¶ä»–ç¤ºä¾‹ä¸­ï¼Œæ‚¨å·²ç»çœ‹åˆ°äº†å¤§å¤šæ•°å‰©ä½™çš„è¿ç®—ç¬¦ï¼š</p>

<table>
<thead>
<tr>
<th>Operator</th>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>()</td>
<td>Function application</td>
<td>Represents a function call</td>
</tr>
<tr>
<td>[]</td>
<td>List access</td>
<td>Refers to the value at the specified index in the list</td>
</tr>
<tr>
<td>.</td>
<td>Member access</td>
<td>Refers to a property of an expression; example: foo.bar selects property bar from expression foo</td>
</tr>
<tr>
<td>?.</td>
<td>Conditional member access</td>
<td>Like ., but the leftmost operand can be null; example: foo?.bar selects property bar from expression foo unless foo is null (in which case the value of foo?.bar is null)</td>
</tr>
</tbody>
</table>

<p>æœ‰å…³<code>.</code>ï¼Œ<code>?.</code>å’Œ<code>..</code>è¿ç®—ç¬¦çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/language-tour#classes">Classes</a>ã€‚</p>

<h2 id="toc_39">æ§åˆ¶æµç¨‹è¯­å¥</h2>

<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€æ–¹æ³•æ§åˆ¶Dartä»£ç çš„æµç¨‹ï¼š</p>

<ul>
<li>if and else</li>
<li>for loops</li>
<li>while and do-while loops</li>
<li>break and continue</li>
<li>switch and case</li>
<li>assert</li>
</ul>

<p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨try-catchå’Œthrowæ¥å½±å“æ§åˆ¶æµï¼Œå¦‚<a href="https://www.dartlang.org/guides/language/language-tour#exceptions">Exceptions</a>ä¸­æ‰€è¿°ã€‚</p>

<h3 id="toc_40">if and else</h3>

<p>Dartæ”¯æŒå¸¦æœ‰å¯é€‰elseè¯­å¥çš„ifè¯­å¥ï¼Œå¦‚ä¸‹ä¸€ä¸ªç¤ºä¾‹æ‰€ç¤ºã€‚å¦è§<br/>
<a href="https://www.dartlang.org/guides/language/language-tour#conditional-expressions">conditional expressions</a><br/>
.</p>

<pre><code class="language-Dart">if (isRaining()) {
  you.bringRainCoat();
} else if (isSnowing()) {
  you.wearJacket();
} else {
  car.putTopDown();
}
</code></pre>

<p>ä¸JavaScriptä¸åŒï¼Œæ¡ä»¶å¿…é¡»ä½¿ç”¨å¸ƒå°”å€¼ï¼Œè€Œä¸æ˜¯å…¶ä»–ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/language-tour#booleans">Booleans</a>ã€‚</p>

<h3 id="toc_41">For loops</h3>

<p>æ‚¨å¯ä»¥ä½¿ç”¨æ ‡å‡†forå¾ªç¯è¿›è¡Œè¿­ä»£ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">var message = StringBuffer(&#39;Dart is fun&#39;);
for (var i = 0; i &lt; 5; i++) {
  message.write(&#39;!&#39;);
}
</code></pre>

<p>Dart for forå¾ªç¯å†…éƒ¨çš„é—­åŒ…æ•è·äº†ç´¢å¼•çš„å€¼ï¼Œé¿å…äº†JavaScriptä¸­å¸¸è§çš„é™·é˜±ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ï¼š</p>

<pre><code class="language-Dart">var callbacks = [];
for (var i = 0; i &lt; 2; i++) {
  callbacks.add(() =&gt; print(i));
}
callbacks.forEach((c) =&gt; c());
</code></pre>

<p>æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œè¾“å‡ºä¸º0ç„¶åä¸º1ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¯¥ç¤ºä¾‹å°†åœ¨JavaScriptä¸­æ‰“å°2ç„¶åæ‰“å°2ã€‚</p>

<p>å¦‚æœè¦è¿­ä»£çš„å¯¹è±¡æ˜¯Iterableï¼Œåˆ™å¯ä»¥ä½¿ç”¨forEachï¼ˆï¼‰æ–¹æ³•ã€‚å¦‚æœæ‚¨ä¸éœ€è¦çŸ¥é“å½“å‰çš„è¿­ä»£è®¡æ•°å™¨ï¼Œåˆ™ä½¿ç”¨forEachï¼ˆï¼‰æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼š</p>

<pre><code class="language-Dart">candidates.forEach((candidate) =&gt; candidate.interview());
</code></pre>

<p>åƒListå’ŒSetè¿™æ ·çš„å¯è¿­ä»£ç±»ä¹Ÿæ”¯æŒè¿­ä»£çš„for-inå½¢å¼ï¼š</p>

<pre><code class="language-Dart">var collection = [0, 1, 2];
for (var x in collection) {
  print(x); // 0 1 2
}
</code></pre>

<h3 id="toc_42">While and do-while</h3>

<p>whileå¾ªç¯åœ¨å¾ªç¯ä¹‹å‰è®¡ç®—æ¡ä»¶ï¼š</p>

<pre><code class="language-Dart">while (!isDone()) {
  doSomething();
}
</code></pre>

<p>do-whileå¾ªç¯åœ¨å¾ªç¯ä¹‹åè®¡ç®—æ¡ä»¶ï¼š</p>

<pre><code class="language-Dart">do {
  printLine();
} while (!atEndOfPage());
</code></pre>

<h3 id="toc_43">Break and continue</h3>

<p>ä½¿ç”¨breakæ¥åœæ­¢å¾ªç¯ï¼š</p>

<pre><code class="language-Dart">while (true) {
  if (shutDownRequested()) break;
  processIncomingRequests();
}
</code></pre>

<p>ä½¿ç”¨ç»§ç»­è·³åˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£ï¼š</p>

<pre><code class="language-Dart">for (int i = 0; i &lt; candidates.length; i++) {
  var candidate = candidates[i];
  if (candidate.yearsExperience &lt; 5) {
    continue;
  }
  candidate.interview();
}
</code></pre>

<p>å¦‚æœæ‚¨ä½¿ç”¨Iterableï¼ˆå¦‚åˆ—è¡¨æˆ–é›†åˆï¼‰ï¼Œåˆ™å¯èƒ½ä¼šä»¥ä¸åŒçš„æ–¹å¼ç¼–å†™è¯¥ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">candidates
    .where((c) =&gt; c.yearsExperience &gt;= 5)
    .forEach((c) =&gt; c.interview());
</code></pre>

<h3 id="toc_44">Switch and case</h3>

<p>Dartä¸­çš„switchè¯­å¥ä½¿ç”¨<code>==</code>æ¯”è¾ƒæ•´æ•°ï¼Œå­—ç¬¦ä¸²æˆ–ç¼–è¯‘æ—¶å¸¸é‡ã€‚æ¯”è¾ƒå¯¹è±¡å¿…é¡»éƒ½æ˜¯åŒä¸€ä¸ªç±»çš„å®ä¾‹ï¼ˆè€Œä¸æ˜¯å…¶ä»»ä½•å­ç±»å‹çš„å®ä¾‹ï¼‰ï¼Œå¹¶ä¸”è¯¥ç±»ä¸èƒ½è¦†ç›–==ã€‚<a href="https://www.dartlang.org/guides/language/language-tour#enumerated-types">æšä¸¾ç±»å‹</a>åœ¨switchè¯­å¥ä¸­è¿è¡Œè‰¯å¥½ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šDartä¸­çš„Switchè¯­å¥é€‚ç”¨äºæœ‰é™çš„æƒ…å†µï¼Œä¾‹å¦‚è§£é‡Šå™¨æˆ–æ‰«æç¨‹åºã€‚</p>
</blockquote>

<p>æ¯ä¸ªéç©ºcaseå­å¥ä»¥breakè¯­å¥ç»“æŸï¼Œä½œä¸ºè§„åˆ™ã€‚ç»“æŸéç©ºcaseå­å¥çš„å…¶ä»–æœ‰æ•ˆæ–¹æ³•æ˜¯continueï¼Œthrowæˆ–returnè¯­å¥ã€‚</p>

<p>å½“æ²¡æœ‰caseå­å¥åŒ¹é…æ—¶ï¼Œä½¿ç”¨defaultå­å¥æ‰§è¡Œä»£ç ï¼š</p>

<pre><code class="language-Dart">var command = &#39;OPEN&#39;;
switch (command) {
  case &#39;CLOSED&#39;:
    executeClosed();
    break;
  case &#39;PENDING&#39;:
    executePending();
    break;
  case &#39;APPROVED&#39;:
    executeApproved();
    break;
  case &#39;DENIED&#39;:
    executeDenied();
    break;
  case &#39;OPEN&#39;:
    executeOpen();
    break;
  default:
    executeUnknown();
}
</code></pre>

<p>ä»¥ä¸‹ç¤ºä¾‹çœç•¥äº†caseå­å¥ä¸­çš„breakè¯­å¥ï¼Œä»è€Œç”Ÿæˆé”™è¯¯ï¼š</p>

<pre><code class="language-Dart">var command = &#39;OPEN&#39;;
switch (command) {
  case &#39;OPEN&#39;:
    executeOpen();
    // ERROR: Missing break

  case &#39;CLOSED&#39;:
    executeClosed();
    break;
}
</code></pre>

<p>ä½†æ˜¯ï¼ŒDartç¡®å®æ”¯æŒç©ºcase è¯­å¥ï¼Œå…è®¸ä¸€ç§å½¢å¼çš„æ¼æ´ï¼š</p>

<pre><code class="language-Dart">var command = &#39;CLOSED&#39;;
switch (command) {
  case &#39;CLOSED&#39;: // Empty case falls through.
  case &#39;NOW_CLOSED&#39;:
    // Runs for both CLOSED and NOW_CLOSED.
    executeNowClosed();
    break;
}

</code></pre>

<p>å¦‚æœä½ çœŸçš„æƒ³è¦fall-throughï¼Œä½ å¯ä»¥ä½¿ç”¨continueè¯­å¥å’Œæ ‡ç­¾ï¼š</p>

<pre><code class="language-Dart">switch (command) {
  case &#39;CLOSED&#39;:
    executeClosed();
    continue nowClosed;
  // Continues executing at the nowClosed label.

  nowClosed:
  case &#39;NOW_CLOSED&#39;:
    // Runs for both CLOSED and NOW_CLOSED.
    executeNowClosed();
    break;
}
</code></pre>

<p>caseå­å¥å¯ä»¥æœ‰å±€éƒ¨å˜é‡ï¼Œåªåœ¨è¯¥å­å¥çš„èŒƒå›´å†…å¯è§ã€‚</p>

<h3 id="toc_45">Assert</h3>

<p>å¦‚æœå¸ƒå°”æ¡ä»¶ä¸ºfalseï¼Œåˆ™ä½¿ç”¨assertè¯­å¥æ¥ä¸­æ–­æ­£å¸¸æ‰§è¡Œã€‚æ‚¨å¯ä»¥åœ¨æœ¬å¯¼è§ˆä¸­æ‰¾åˆ°æ–­è¨€è¯­å¥çš„ç¤ºä¾‹ã€‚è¿™é‡Œè¿˜æœ‰ä¸€äº›ï¼š</p>

<pre><code class="language-Dart">// Make sure the variable has a non-null value.
assert(text != null);

// Make sure the value is less than 100.
assert(number &lt; 100);

// Make sure this is an https URL.
assert(urlString.startsWith(&#39;https&#39;));
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šæ–­è¨€è¯­å¥å¯¹ç”Ÿäº§ä»£ç æ²¡æœ‰å½±å“;ä»–ä»¬åªæ˜¯ä¸ºäº†å‘å±•ã€‚ Flutteråœ¨è°ƒè¯•æ¨¡å¼ä¸‹å¯ç”¨æ–­è¨€ã€‚ä»…é™å¼€å‘çš„å·¥å…·ï¼ˆå¦‚dartdevcï¼‰é€šå¸¸é»˜è®¤æ”¯æŒæ–­è¨€ã€‚æŸäº›å·¥å…·ï¼ˆå¦‚dartå’Œdart2jsï¼‰é€šè¿‡å‘½ä»¤è¡Œæ ‡å¿—æ”¯æŒæ–­è¨€ï¼š<code>--enable-asserts</code>ã€‚</p>
</blockquote>

<p>è¦å°†æ¶ˆæ¯é™„åŠ åˆ°æ–­è¨€ï¼Œè¯·æ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p>

<pre><code class="language-Dart">assert(urlString.startsWith(&#39;https&#39;),
    &#39;URL ($urlString) should start with &quot;https&quot;.&#39;);
</code></pre>

<p>assertçš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯è§£æä¸ºå¸ƒå°”å€¼çš„ä»»ä½•è¡¨è¾¾å¼ã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸ºtrueï¼Œåˆ™æ–­è¨€æˆåŠŸå¹¶ç»§ç»­æ‰§è¡Œã€‚å¦‚æœä¸ºfalseï¼Œåˆ™æ–­è¨€å¤±è´¥å¹¶æŠ›å‡ºå¼‚å¸¸ï¼ˆAssertionErrorï¼‰ã€‚</p>

<h2 id="toc_46">Exceptions</h2>

<p>æ‚¨çš„Dartä»£ç å¯ä»¥æŠ›å‡ºå¹¶æ•è·å¼‚å¸¸ã€‚ä¾‹å¤–æ˜¯æŒ‡ç¤ºå‘ç”Ÿæ„å¤–äº‹ä»¶çš„é”™è¯¯ã€‚å¦‚æœæœªæ•è·å¼‚å¸¸ï¼Œåˆ™ä¼šæš‚åœå¼•å‘å¼‚å¸¸çš„éš”ç¦»ï¼Œå¹¶ä¸”é€šå¸¸ä¼šç»ˆæ­¢éš”ç¦»åŠå…¶ç¨‹åºã€‚</p>

<p>ä¸Javaç›¸æ¯”ï¼ŒDartçš„æ‰€æœ‰å¼‚å¸¸éƒ½æ˜¯æœªç»æ£€æŸ¥çš„å¼‚å¸¸ã€‚æ–¹æ³•ä¸ä¼šå£°æ˜å®ƒä»¬å¯èƒ½å¼•å‘çš„å¼‚å¸¸ï¼Œå¹¶ä¸”æ‚¨ä¸éœ€è¦æ•è·ä»»ä½•å¼‚å¸¸ã€‚</p>

<p>Dartæä¾›äº†Exceptionå’ŒErrorç±»å‹ï¼Œä»¥åŠè®¸å¤šé¢„å®šä¹‰çš„å­ç±»å‹ã€‚å½“ç„¶ï¼Œæ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„ä¾‹å¤–æƒ…å†µã€‚ä½†æ˜¯ï¼ŒDartç¨‹åºå¯ä»¥æŠ›å‡ºä»»ä½•énullå¯¹è±¡ - ä¸ä»…ä»…æ˜¯Exceptionå’ŒErrorå¯¹è±¡ - ä½œä¸ºä¾‹å¤–ã€‚</p>

<h3 id="toc_47">Throw</h3>

<p>ä»¥ä¸‹æ˜¯æŠ›å‡ºæˆ–å¼•å‘å¼‚å¸¸çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">throw FormatException(&#39;Expected at least 1 section&#39;);
</code></pre>

<p>ä½ ä¹Ÿå¯ä»¥æŠ›å‡ºä»»æ„å¯¹è±¡ï¼š</p>

<pre><code class="language-Dart">throw &#39;Out of llamas!&#39;;
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šç”Ÿäº§è´¨é‡ä»£ç é€šå¸¸ä¼šæŠ›å‡ºå®ç°é”™è¯¯æˆ–å¼‚å¸¸çš„ç±»å‹ã€‚</p>
</blockquote>

<p>å› ä¸ºæŠ›å‡ºå¼‚å¸¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¯ä»¥åœ¨=&gt;è¯­å¥ä¸­ä»¥åŠå…è®¸è¡¨è¾¾å¼çš„ä»»ä½•å…¶ä»–åœ°æ–¹æŠ›å‡ºå¼‚å¸¸ï¼š</p>

<pre><code class="language-Dart">void distanceTo(Point other) =&gt; throw UnimplementedError();
</code></pre>

<h3 id="toc_48">Catch</h3>

<p>æ•è·æˆ–æ•è·å¼‚å¸¸ä¼šé˜»æ­¢å¼‚å¸¸ä¼ æ’­ï¼ˆé™¤éæ‚¨é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚æ•è·å¼‚å¸¸ä½¿æ‚¨æœ‰æœºä¼šå¤„ç†å®ƒï¼š</p>

<pre><code class="language-Dart">try {
  breedMoreLlamas();
} on OutOfLlamasException {
  buyMoreLlamas();
}
</code></pre>

<p>è¦å¤„ç†å¯èƒ½æŠ›å‡ºå¤šç§ç±»å‹å¼‚å¸¸çš„ä»£ç ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªcatchå­å¥ã€‚ä¸æŠ›å‡ºå¯¹è±¡çš„ç±»å‹åŒ¹é…çš„ç¬¬ä¸€ä¸ªcatchå­å¥å¤„ç†å¼‚å¸¸ã€‚å¦‚æœcatchå­å¥æœªæŒ‡å®šç±»å‹ï¼Œåˆ™è¯¥å­å¥å¯ä»¥å¤„ç†ä»»ä½•ç±»å‹çš„æŠ›å‡ºå¯¹è±¡ï¼š</p>

<pre><code class="language-Dart">try {
  breedMoreLlamas();
} on OutOfLlamasException {
  // A specific exception
  buyMoreLlamas();
} on Exception catch (e) {
  // Anything else that is an exception
  print(&#39;Unknown exception: $e&#39;);
} catch (e) {
  // No specified type, handles all
  print(&#39;Something really unknown: $e&#39;);
}
</code></pre>

<p>å¦‚å‰é¢çš„ä»£ç æ‰€ç¤ºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨onæˆ–catchæˆ–ä¸¤è€…ã€‚éœ€è¦æŒ‡å®šå¼‚å¸¸ç±»å‹æ—¶ä½¿ç”¨ã€‚å½“å¼‚å¸¸å¤„ç†ç¨‹åºéœ€è¦å¼‚å¸¸å¯¹è±¡æ—¶ä½¿ç”¨catchã€‚</p>

<p>æ‚¨å¯ä»¥ä¸ºcatchï¼ˆï¼‰æŒ‡å®šä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯æŠ›å‡ºçš„å¼‚å¸¸ï¼Œç¬¬äºŒä¸ªæ˜¯å †æ ˆè·Ÿè¸ªï¼ˆStackTraceå¯¹è±¡ï¼‰ã€‚</p>

<pre><code class="language-Dart">try {
  // Â·Â·Â·
} on Exception catch (e) {
  print(&#39;Exception details:\n $e&#39;);
} catch (e, s) {
  print(&#39;Exception details:\n $e&#39;);
  print(&#39;Stack trace:\n $s&#39;);
}
</code></pre>

<p>è¦éƒ¨åˆ†å¤„ç†å¼‚å¸¸ï¼ŒåŒæ—¶å…è®¸å®ƒä¼ æ’­ï¼Œè¯·ä½¿ç”¨rethrowå…³é”®å­—ã€‚</p>

<pre><code class="language-Dart">void misbehave() {
  try {
    dynamic foo = true;
    print(foo++); // Runtime error
  } catch (e) {
    print(&#39;misbehave() partially handled ${e.runtimeType}.&#39;);
    rethrow; // Allow callers to see the exception.
  }
}

void main() {
  try {
    misbehave();
  } catch (e) {
    print(&#39;main() finished handling ${e.runtimeType}.&#39;);
  }
}
</code></pre>

<h3 id="toc_49">Finally</h3>

<p>è¦ç¡®ä¿æŸäº›ä»£ç è¿è¡Œï¼Œæ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œè¯·ä½¿ç”¨finallyå­å¥ã€‚å¦‚æœæ²¡æœ‰catchå­å¥ä¸å¼‚å¸¸åŒ¹é…ï¼Œåˆ™åœ¨finallyå­å¥è¿è¡Œåä¼ æ’­å¼‚å¸¸ï¼š</p>

<pre><code class="language-Dart">try {
  breedMoreLlamas();
} finally {
  // Always clean up, even if an exception is thrown.
  cleanLlamaStalls();
}
</code></pre>

<p>finallyå­å¥åœ¨ä»»ä½•åŒ¹é…çš„catchå­å¥ä¹‹åè¿è¡Œï¼š</p>

<pre><code class="language-Dart">try {
  breedMoreLlamas();
} catch (e) {
  print(&#39;Error: $e&#39;); // Handle the exception first.
} finally {
  cleanLlamaStalls(); // Then clean up.
}
</code></pre>

<p>é˜…è¯»å›¾ä¹¦é¦†ä¹‹æ—…çš„ä¾‹å¤–éƒ¨åˆ†ï¼Œäº†è§£æ›´å¤šä¿¡æ¯ã€‚</p>

<h2 id="toc_50">Classes</h2>

<p>Dartæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå…·æœ‰ç±»å’ŒåŸºäºmixinçš„ç»§æ‰¿ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæ‰€æœ‰ç±»éƒ½æ¥è‡ªObjectã€‚åŸºäºMixinçš„ç»§æ‰¿æ„å‘³ç€è™½ç„¶æ¯ä¸ªç±»ï¼ˆé™¤äº†Objectï¼‰åªæœ‰ä¸€ä¸ªè¶…ç±»ï¼Œä½†æ˜¯ç±»ä½“å¯ä»¥åœ¨å¤šä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­é‡ç”¨ã€‚</p>

<h3 id="toc_51">é€‚ç”¨ç±»æˆå‘˜</h3>

<p>å¯¹è±¡å…·æœ‰ç”±å‡½æ•°å’Œæ•°æ®ï¼ˆåˆ†åˆ«ä¸ºæ–¹æ³•å’Œå®ä¾‹å˜é‡ï¼‰ç»„æˆçš„æˆå‘˜ã€‚è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¯ä»¥åœ¨å¯¹è±¡ä¸Šè°ƒç”¨å®ƒï¼šè¯¥æ–¹æ³•å¯ä»¥è®¿é—®è¯¥å¯¹è±¡çš„å‡½æ•°å’Œæ•°æ®ã€‚<br/>
ä½¿ç”¨ç‚¹ï¼ˆ.ï¼‰æ¥å¼•ç”¨å®ä¾‹å˜é‡æˆ–æ–¹æ³•ï¼š</p>

<pre><code class="language-Dart">var p = Point(2, 2);

// Set the value of the instance variable y.
p.y = 3;

// Get the value of y.
assert(p.y == 3);

// Invoke distanceTo() on p.
num distance = p.distanceTo(Point(4, 4));
</code></pre>

<p>ä½¿ç”¨<code>?.</code>ä»£æ›¿<code>&#39;</code>å½“æœ€å·¦è¾¹çš„æ“ä½œæ•°ä¸ºnullæ—¶é¿å…å¼‚å¸¸ï¼š</p>

<pre><code class="language-Dart">// If p is non-null, set its y value to 4.
p?.y = 4;
</code></pre>

<h3 id="toc_52">ä½¿ç”¨æ„é€ å‡½æ•°</h3>

<p>æ‚¨å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ã€‚æ„é€ å‡½æ•°åç§°å¯ä»¥æ˜¯<code>ClassName</code>æˆ–<code>ClassName.identifier</code>ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä½¿ç”¨<code>Point()</code>å’Œ<code>Point.fromJson()</code>æ„é€ å‡½æ•°åˆ›å»ºPointå¯¹è±¡ï¼š</p>

<pre><code class="language-Dart">var p1 = Point(2, 2);
var p2 = Point.fromJson({&#39;x&#39;: 1, &#39;y&#39;: 2});
</code></pre>

<p>ä»¥ä¸‹ä»£ç å…·æœ‰ç›¸åŒçš„æ•ˆæœï¼Œä½†åœ¨æ„é€ å‡½æ•°åç§°ä¹‹å‰ä½¿ç”¨å¯é€‰çš„newå…³é”®å­—ï¼š</p>

<pre><code class="language-Dart">var p1 = new Point(2, 2);
var p2 = new Point.fromJson({&#39;x&#39;: 1, &#39;y&#39;: 2});
</code></pre>

<blockquote>
<p>ç‰ˆæœ¬è¯´æ˜ï¼šæ–°å…³é”®å­—åœ¨Dart 2ä¸­æˆä¸ºå¯é€‰é¡¹ã€‚</p>
</blockquote>

<p>æœ‰äº›ç±»æä¾›å¸¸é‡æ„é€ å‡½æ•°ã€‚è¦ä½¿ç”¨å¸¸é‡æ„é€ å‡½æ•°åˆ›å»ºç¼–è¯‘æ—¶å¸¸é‡ï¼Œè¯·å°†constå…³é”®å­—æ”¾åœ¨æ„é€ å‡½æ•°åç§°ä¹‹å‰ï¼š</p>

<pre><code class="language-Dart">var p = const ImmutablePoint(2, 2);
</code></pre>

<p>æ„é€ ä¸¤ä¸ªç›¸åŒçš„ç¼–è¯‘æ—¶å¸¸é‡ä¼šäº§ç”Ÿä¸€ä¸ªè§„èŒƒçš„å®ä¾‹ï¼š</p>

<pre><code class="language-Dart">var a = const ImmutablePoint(1, 1);
var b = const ImmutablePoint(1, 1);

assert(identical(a, b)); // They are the same instance!
</code></pre>

<p>åœ¨å¸¸é‡ä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥åœ¨æ„é€ å‡½æ•°æˆ–æ–‡å­—ä¹‹å‰çœç•¥constã€‚ä¾‹å¦‚ï¼ŒæŸ¥çœ‹æ­¤ä»£ç ï¼Œè¯¥ä»£ç åˆ›å»ºä¸€ä¸ªconstæ˜ å°„ï¼š</p>

<pre><code class="language-Dart">const pointAndLine = const {
  &#39;point&#39;: const [const ImmutablePoint(0, 0)],
  &#39;line&#39;: const [const ImmutablePoint(1, 10), const ImmutablePoint(-2, 11)],
};
</code></pre>

<p>æ‚¨å¯ä»¥çœç•¥é™¤constå…³é”®å­—çš„ç¬¬ä¸€æ¬¡ä½¿ç”¨ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ï¼š</p>

<pre><code class="language-Dart">// Only one const, which establishes the constant context.
const pointAndLine = {
  &#39;point&#39;: [ImmutablePoint(0, 0)],
  &#39;line&#39;: [ImmutablePoint(1, 10), ImmutablePoint(-2, 11)],
};
</code></pre>

<p>å¦‚æœå¸¸é‡æ„é€ å‡½æ•°åœ¨å¸¸é‡ä¸Šä¸‹æ–‡ä¹‹å¤–å¹¶ä¸”åœ¨æ²¡æœ‰constçš„æƒ…å†µä¸‹è°ƒç”¨ï¼Œåˆ™ä¼šåˆ›å»ºä¸€ä¸ªéå¸¸é‡å¯¹è±¡ï¼š</p>

<pre><code class="language-Dart">var a = const ImmutablePoint(1, 1); // Creates a constant
var b = ImmutablePoint(1, 1); // Does NOT create a constant

assert(!identical(a, b)); // NOT the same instance!
</code></pre>

<blockquote>
<p>ç‰ˆæœ¬è¯´æ˜ï¼šåœ¨Dart 2çš„å¸¸é‡ä¸Šä¸‹æ–‡ä¸­ï¼Œconstå…³é”®å­—å˜ä¸ºå¯é€‰ã€‚</p>
</blockquote>

<h3 id="toc_53">è·å–å¯¹è±¡çš„ç±»å‹</h3>

<p>è¦åœ¨è¿è¡Œæ—¶è·å–å¯¹è±¡çš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨Objectçš„runtimeTypeå±æ€§ï¼Œè¯¥å±æ€§è¿”å›Typeå¯¹è±¡ã€‚</p>

<pre><code class="language-Dart">print(&#39;The type of a is ${a.runtimeType}&#39;);
</code></pre>

<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ç±»ã€‚æœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†å°†ä»‹ç»å¦‚ä½•å®ç°ç±»ã€‚</p>

<h3 id="toc_54">å®ä¾‹å˜é‡</h3>

<p>ä»¥ä¸‹æ˜¯å£°æ˜å®ä¾‹å˜é‡çš„æ–¹æ³•ï¼š</p>

<pre><code class="language-Dart">class Point {
  num x; // Declare instance variable x, initially null.
  num y; // Declare y, initially null.
  num z = 0; // Declare z, initially 0.
}
</code></pre>

<p>æ‰€æœ‰æœªåˆå§‹åŒ–çš„å®ä¾‹å˜é‡çš„å€¼éƒ½ä¸ºnullã€‚</p>

<p>æ‰€æœ‰å®ä¾‹å˜é‡éƒ½ç”Ÿæˆä¸€ä¸ªéšå¼getteræ–¹æ³•ã€‚éfinalå®ä¾‹å˜é‡ä¹Ÿä¼šç”Ÿæˆéšå¼setteræ–¹æ³•ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/language-tour#getters-and-setters">Getterså’Œsetter</a>ã€‚</p>

<pre><code class="language-Dart">class Point {
  num x;
  num y;
}

void main() {
  var point = Point();
  point.x = 4; // Use the setter method for x.
  assert(point.x == 4); // Use the getter method for x.
  assert(point.y == null); // Values default to null.
}
</code></pre>

<p>å¦‚æœåœ¨å£°æ˜å®ä¾‹å˜é‡æ—¶åˆå§‹åŒ–å˜é‡ï¼ˆè€Œä¸æ˜¯åœ¨æ„é€ å‡½æ•°æˆ–æ–¹æ³•ä¸­ï¼‰ï¼Œåˆ™åœ¨åˆ›å»ºå®ä¾‹æ—¶è®¾ç½®è¯¥å€¼ï¼Œè¯¥å®ä¾‹åœ¨æ„é€ å‡½æ•°åŠå…¶åˆå§‹åŒ–åˆ—è¡¨æ‰§è¡Œä¹‹å‰ã€‚</p>

<h3 id="toc_55">æ„é€ å‡½æ•°</h3>

<p>é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸å…¶ç±»åŒåçš„å‡½æ•°æ¥å£°æ˜æ„é€ å‡½æ•°ï¼ˆå¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„æ ‡è¯†ç¬¦ï¼Œå¦‚å‘½åæ„é€ å‡½æ•°ä¸­æ‰€è¿°ï¼‰ã€‚æœ€å¸¸è§çš„æ„é€ å‡½æ•°å½¢å¼ï¼Œå³ç”Ÿæˆæ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç±»çš„æ–°å®ä¾‹ï¼š</p>

<pre><code class="language-Dart">class Point {
  num x, y;

  Point(num x, num y) {
    // There&#39;s a better way to do this, stay tuned.
    this.x = x;
    this.y = y;
  }
}
</code></pre>

<p>thiså…³é”®å­—å¼•ç”¨å½“å‰å®ä¾‹ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šä»…åœ¨å­˜åœ¨åç§°å†²çªæ—¶ä½¿ç”¨æ­¤é€‰é¡¹ã€‚å¦åˆ™ï¼ŒDarté£æ ¼çœç•¥äº†è¿™ä¸€ç‚¹ã€‚</p>
</blockquote>

<p>å°†æ„é€ å‡½æ•°å‚æ•°èµ‹å€¼ç»™å®ä¾‹å˜é‡çš„æ¨¡å¼éå¸¸å¸¸è§ï¼ŒDartå…·æœ‰è¯­æ³•ç³–ï¼Œä½¿å…¶å˜å¾—ç®€å•ï¼š</p>

<pre><code class="language-Dart">class Point {
  num x, y;

  // Syntactic sugar for setting x and y
  // before the constructor body runs.
  Point(this.x, this.y);
}
</code></pre>

<h4 id="toc_56">é»˜è®¤æ„é€ å‡½æ•°</h4>

<p>å¦‚æœæ‚¨æœªå£°æ˜æ„é€ å‡½æ•°ï¼Œåˆ™ä¼šä¸ºæ‚¨æä¾›é»˜è®¤æ„é€ å‡½æ•°ã€‚é»˜è®¤æ„é€ å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œå¹¶åœ¨è¶…ç±»ä¸­è°ƒç”¨æ— å‚æ•°æ„é€ å‡½æ•°ã€‚</p>

<h4 id="toc_57">æ„é€ å‡½æ•°ä¼šè¢«ç»§æ‰¿</h4>

<p>å­ç±»ä¸ä»å…¶è¶…ç±»ç»§æ‰¿æ„é€ å‡½æ•°ã€‚å£°æ˜æ²¡æœ‰æ„é€ å‡½æ•°çš„å­ç±»åªæœ‰é»˜è®¤ï¼ˆæ— å‚æ•°ï¼Œæ— åç§°ï¼‰æ„é€ å‡½æ•°ã€‚</p>

<h4 id="toc_58">å‘½åæ„é€ å‡½æ•°</h4>

<p>ä½¿ç”¨å‘½åæ„é€ å‡½æ•°ä¸ºç±»å®ç°å¤šä¸ªæ„é€ å‡½æ•°æˆ–æä¾›é¢å¤–çš„æ¸…æ™°åº¦ï¼š</p>

<pre><code class="language-Dart">class Point {
  num x, y;

  Point(this.x, this.y);

  // Named constructor
  Point.origin() {
    x = 0;
    y = 0;
  }
}
</code></pre>

<p>è¯·è®°ä½ï¼Œæ„é€ å‡½æ•°ä¸æ˜¯ç»§æ‰¿çš„ï¼Œè¿™æ„å‘³ç€è¶…ç±»çš„å‘½åæ„é€ å‡½æ•°ä¸ä¼šè¢«å­ç±»ç»§æ‰¿ã€‚å¦‚æœå¸Œæœ›ä½¿ç”¨è¶…ç±»ä¸­å®šä¹‰çš„å‘½åæ„é€ å‡½æ•°åˆ›å»ºå­ç±»ï¼Œåˆ™å¿…é¡»åœ¨å­ç±»ä¸­å®ç°è¯¥æ„é€ å‡½æ•°ã€‚</p>

<h4 id="toc_59">è°ƒç”¨éé»˜è®¤çš„è¶…ç±»æ„é€ å‡½æ•°</h4>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå­ç±»ä¸­çš„æ„é€ å‡½æ•°è°ƒç”¨è¶…ç±»çš„æœªå‘½åçš„æ— å‚æ•°æ„é€ å‡½æ•°ã€‚è¶…ç±»çš„æ„é€ å‡½æ•°åœ¨æ„é€ å‡½æ•°ä½“çš„å¼€å¤´è¢«è°ƒç”¨ã€‚å¦‚æœè¿˜ä½¿ç”¨<a href="https://www.dartlang.org/guides/language/language-tour#initializer-list">åˆå§‹åŒ–åˆ—è¡¨</a>ï¼Œåˆ™åœ¨è°ƒç”¨è¶…ç±»ä¹‹å‰æ‰§è¡Œã€‚æ€»ä¹‹ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>

<ol>
<li>åˆå§‹åŒ–åˆ—è¡¨ </li>
<li>è¶…ç±»çš„æ— å‚æ•°æ„é€ å‡½æ•° </li>
<li>ä¸»ç±»çš„æ— å‚æ•°æ„é€ å‡½æ•°</li>
</ol>

<p>å¦‚æœè¶…ç±»æ²¡æœ‰æœªå‘½åçš„æ— å‚æ•°æ„é€ å‡½æ•°ï¼Œåˆ™å¿…é¡»æ‰‹åŠ¨è°ƒç”¨è¶…ç±»ä¸­çš„ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚åœ¨å†’å·ï¼ˆ:)ä¹‹åæŒ‡å®šè¶…ç±»æ„é€ å‡½æ•°ï¼Œå°±åœ¨æ„é€ å‡½æ•°ä½“ï¼ˆå¦‚æœæœ‰ï¼‰ä¹‹å‰ã€‚</p>

<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒEmployeeç±»çš„æ„é€ å‡½æ•°ä¸ºå…¶è¶…ç±»Personè°ƒç”¨å‘½åæ„é€ å‡½æ•°ã€‚å•å‡»â€œè¿è¡Œâ€æŒ‰é’®ä»¥æ‰§è¡Œä»£ç ã€‚</p>

<pre><code class="language-Dart">class Person {
  String firstName;

  Person.fromJson(Map data) {
    print(&#39;in Person&#39;);
  }
}

class Employee extends Person {
  // Person does not have a default constructor;
  // you must call super.fromJson(data).
  Employee.fromJson(Map data) : super.fromJson(data) {
    print(&#39;in Employee&#39;);
  }
}

main() {
  var emp = new Employee.fromJson({});

  // Prints:
  // in Person
  // in Employee
  if (emp is Person) {
    // Type check
    emp.firstName = &#39;Bob&#39;;
  }
  (emp as Person).firstName = &#39;Bob&#39;;
}
</code></pre>

<p>å› ä¸ºåœ¨è°ƒç”¨æ„é€ å‡½æ•°ä¹‹å‰ä¼šè®¡ç®—è¶…ç±»æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾‹å¦‚å‡½æ•°è°ƒç”¨ï¼š</p>

<pre><code class="language-Dart">class Employee extends Person {
  Employee() : super.fromJson(getDefaultData());
  // Â·Â·Â·
}
</code></pre>

<blockquote>
<p>è­¦å‘Šï¼šè¶…ç±»æ„é€ å‡½æ•°çš„å‚æ•°æ— æƒç”¨<code>this</code>è®¿é—®å®ƒã€‚ä¾‹å¦‚ï¼Œå‚æ•°å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³•ï¼Œä½†ä¸èƒ½è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚</p>
</blockquote>

<h5 id="toc_60">åˆå§‹åŒ–åˆ—è¡¨</h5>

<p>é™¤äº†è°ƒç”¨è¶…ç±»æ„é€ å‡½æ•°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨æ„é€ å‡½æ•°ä½“è¿è¡Œä¹‹å‰åˆå§‹åŒ–å®ä¾‹å˜é‡ã€‚ç”¨é€—å·åˆ†éš”åˆå§‹åŒ–ç¨‹åºã€‚</p>

<pre><code class="language-Dart">// Initializer list sets instance variables before
// the constructor body runs.
Point.fromJson(Map&lt;String, num&gt; json)
    : x = json[&#39;x&#39;],
      y = json[&#39;y&#39;] {
  print(&#39;In Point.fromJson(): ($x, $y)&#39;);
}
</code></pre>

<blockquote>
<p>è­¦å‘Šï¼šåˆå§‹åŒ–ç¨‹åºä¸­æ— æ³•é€‚ç”¨<code>this</code>å…³é”®å­—</p>
</blockquote>

<p>åœ¨å¼€å‘æœŸé—´ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„assertæ¥éªŒè¯è¾“å…¥ã€‚</p>

<pre><code class="language-Dart">Point.withAssert(this.x, this.y) : assert(x &gt;= 0) {
  print(&#39;In Point.withAssert(): ($x, $y)&#39;);
}
</code></pre>

<p>è®¾ç½®æœ€ç»ˆå­—æ®µæ—¶ï¼Œåˆå§‹åŒ–ç¨‹åºåˆ—è¡¨å¾ˆæ–¹ä¾¿ã€‚ä»¥ä¸‹ç¤ºä¾‹åˆå§‹åŒ–åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„ä¸‰ä¸ªæœ€ç»ˆå­—æ®µã€‚å•å‡»â€œè¿è¡Œâ€æŒ‰é’®ä»¥æ‰§è¡Œä»£ç ã€‚</p>

<pre><code class="language-Dart">import &#39;dart:math&#39;;

class Point {
  final num x;
  final num y;
  final num distanceFromOrigin;

  Point(x, y)
      : x = x,
        y = y,
        distanceFromOrigin = sqrt(x * x + y * y);
}

main() {
  var p = new Point(2, 3);
  print(p.distanceFromOrigin);
}
</code></pre>

<h4 id="toc_61">é‡å®šå‘æ„é€ å‡½æ•°</h4>

<p>æœ‰æ—¶æ„é€ å‡½æ•°çš„å”¯ä¸€ç›®çš„æ˜¯é‡å®šå‘åˆ°åŒä¸€ä¸ªç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚é‡å®šå‘æ„é€ å‡½æ•°çš„ä¸»ä½“æ˜¯ç©ºçš„ï¼Œæ„é€ å‡½æ•°è°ƒç”¨å‡ºç°åœ¨å†’å·ï¼ˆ:)ä¹‹åã€‚</p>

<pre><code class="language-Dart">class Point {
  num x, y;

  // The main constructor for this class.
  Point(this.x, this.y);

  // Delegates to the main constructor.
  Point.alongXAxis(num x) : this(x, 0);
}
</code></pre>

<h4 id="toc_62">å¸¸é‡æ„é€ å‡½æ•°</h4>

<p>å¦‚æœæ‚¨çš„ç±»ç”Ÿæˆæ°¸è¿œä¸ä¼šæ›´æ”¹çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿è¿™äº›å¯¹è±¡æˆä¸ºç¼–è¯‘æ—¶å¸¸é‡ã€‚ä¸ºæ­¤ï¼Œè¯·å®šä¹‰constæ„é€ å‡½æ•°å¹¶ç¡®ä¿æ‰€æœ‰å®ä¾‹å˜é‡éƒ½æ˜¯finalã€‚</p>

<pre><code class="language-Dart">class ImmutablePoint {
  static final ImmutablePoint origin =
      const ImmutablePoint(0, 0);

  final num x, y;

  const ImmutablePoint(this.x, this.y);
}
</code></pre>

<p>å¸¸é‡æ„é€ å‡½æ•°å¹¶ä¸æ€»æ˜¯åˆ›å»ºå¸¸é‡ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æœ‰å…³<a href="https://www.dartlang.org/guides/language/language-tour#using-constructors">ä½¿ç”¨æ„é€ å‡½æ•°</a>çš„éƒ¨åˆ†ã€‚</p>

<h4 id="toc_63">å·¥å‚æ„é€ å‡½æ•°</h4>

<p>åœ¨å®ç°å¹¶ä¸æ€»æ˜¯åˆ›å»ºå…¶ç±»çš„æ–°å®ä¾‹çš„æ„é€ å‡½æ•°æ—¶ï¼Œè¯·ä½¿ç”¨factoryå…³é”®å­—ã€‚ä¾‹å¦‚ï¼Œå·¥å‚æ„é€ å‡½æ•°å¯èƒ½ä»ç¼“å­˜ä¸­è¿”å›å®ä¾‹ï¼Œæˆ–è€…å®ƒå¯èƒ½è¿”å›å­ç±»å‹çš„å®ä¾‹ã€‚</p>

<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†ä»ç¼“å­˜ä¸­è¿”å›å¯¹è±¡çš„å·¥å‚æ„é€ å‡½æ•°ï¼š</p>

<pre><code class="language-Dart">class Logger {
  final String name;
  bool mute = false;

  // _cache is library-private, thanks to
  // the _ in front of its name.
  static final Map&lt;String, Logger&gt; _cache =
      &lt;String, Logger&gt;{};

  factory Logger(String name) {
    if (_cache.containsKey(name)) {
      return _cache[name];
    } else {
      final logger = Logger._internal(name);
      _cache[name] = logger;
      return logger;
    }
  }

  Logger._internal(this.name);

  void log(String msg) {
    if (!mute) print(msg);
  }
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šå·¥å‚æ„é€ å‡½æ•°æ— æƒä½¿ç”¨<code>this</code>ã€‚</p>
</blockquote>

<p>åƒè°ƒç”¨ä»»ä½•å…¶ä»–æ„é€ å‡½æ•°ä¸€æ ·è°ƒç”¨å·¥å‚æ„é€ å‡½æ•°ï¼š</p>

<pre><code class="language-Dart">var logger = Logger(&#39;UI&#39;);
logger.log(&#39;Button clicked&#39;);
</code></pre>

<h2 id="toc_64">Methods</h2>

<p>æ–¹æ³•æ˜¯ä¸ºå¯¹è±¡æä¾›è¡Œä¸ºçš„å‡½æ•°ã€‚</p>

<h3 id="toc_65">å®ä¾‹æ–¹æ³•</h3>

<p>å¯¹è±¡ä¸Šçš„å®ä¾‹æ–¹æ³•å¯ä»¥è®¿é—®å®ä¾‹å˜é‡å’Œå®ƒã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„distanceToï¼ˆï¼‰æ–¹æ³•æ˜¯å®ä¾‹æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">import &#39;dart:math&#39;;

class Point {
  num x, y;

  Point(this.x, this.y);

  num distanceTo(Point other) {
    var dx = x - other.x;
    var dy = y - other.y;
    return sqrt(dx * dx + dy * dy);
  }
}
</code></pre>

<h3 id="toc_66">Getters and setters</h3>

<p>getterå’Œsetteræ˜¯æä¾›å¯¹è±¡å±æ€§çš„è¯»å†™è®¿é—®æƒé™çš„ç‰¹æ®Šæ–¹æ³•ã€‚å›æƒ³ä¸€ä¸‹ï¼Œæ¯ä¸ªå®ä¾‹å˜é‡éƒ½æœ‰ä¸€ä¸ªéšå¼getterï¼Œå¦‚æœåˆé€‚çš„è¯è¿˜æœ‰ä¸€ä¸ªsetterã€‚æ‚¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—é€šè¿‡å®ç°getterå’Œsetteræ¥åˆ›å»ºå…¶ä»–å±æ€§ï¼š</p>

<pre><code class="language-Dart">class Rectangle {
  num left, top, width, height;

  Rectangle(this.left, this.top, this.width, this.height);

  // Define two calculated properties: right and bottom.
  num get right =&gt; left + width;
  set right(num value) =&gt; left = value - width;
  num get bottom =&gt; top + height;
  set bottom(num value) =&gt; top = value - height;
}

void main() {
  var rect = Rectangle(3, 4, 20, 15);
  assert(rect.left == 3);
  rect.right = 12;
  assert(rect.left == -8);
}
</code></pre>

<p>ä½¿ç”¨getterå’Œsetterï¼Œæ‚¨å¯ä»¥ä»å®ä¾‹å˜é‡å¼€å§‹ï¼Œç¨åä½¿ç”¨æ–¹æ³•åŒ…è£…å®ƒä»¬ï¼Œè€Œæ— éœ€æ›´æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šæ— è®ºæ˜¯å¦æ˜ç¡®å®šä¹‰äº†getterï¼Œå¢é‡ï¼ˆ++ï¼‰ç­‰è¿ç®—ç¬¦éƒ½ä»¥é¢„æœŸçš„æ–¹å¼å·¥ä½œã€‚ä¸ºé¿å…ä»»ä½•æ„å¤–çš„å‰¯ä½œç”¨ï¼Œæ“ä½œå‘˜åªéœ€è°ƒç”¨ä¸€æ¬¡getterï¼Œå°†å…¶å€¼ä¿å­˜åœ¨ä¸´æ—¶å˜é‡ä¸­ã€‚</p>
</blockquote>

<h3 id="toc_67">æŠ½è±¡æ–¹æ³•</h3>

<p>å®ä¾‹ï¼Œgetterå’Œsetteræ–¹æ³•å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œå®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œä½†å°†å…¶å®ç°ç•™ç»™å…¶ä»–ç±»ã€‚æŠ½è±¡æ–¹æ³•åªèƒ½å­˜åœ¨äº<a href="https://www.dartlang.org/guides/language/language-tour#abstract-classes">æŠ½è±¡ç±»</a>ä¸­ã€‚</p>

<p>è¦ä½¿æ–¹æ³•æŠ½è±¡ï¼Œè¯·ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰è€Œä¸æ˜¯æ–¹æ³•ä½“ï¼š</p>

<pre><code class="language-Dart">abstract class Doer {
  // Define instance variables and methods...

  void doSomething(); // Define an abstract method.
}

class EffectiveDoer extends Doer {
  void doSomething() {
    // Provide an implementation, so the method is not abstract here...
  }
}
</code></pre>

<h2 id="toc_68">æŠ½è±¡ç±»</h2>

<p>ä½¿ç”¨abstractä¿®é¥°ç¬¦å®šä¹‰æŠ½è±¡ç±» - æ— æ³•å®ä¾‹åŒ–çš„ç±»ã€‚æŠ½è±¡ç±»å¯¹äºå®šä¹‰æ¥å£éå¸¸æœ‰ç”¨ï¼Œé€šå¸¸è¿˜æœ‰ä¸€äº›å®ç°ã€‚å¦‚æœå¸Œæœ›æŠ½è±¡ç±»çœ‹èµ·æ¥æ˜¯å¯å®ä¾‹åŒ–çš„ï¼Œè¯·å®šä¹‰å·¥å‚æ„é€ å‡½æ•°ã€‚</p>

<p>æŠ½è±¡ç±»é€šå¸¸æœ‰æŠ½è±¡æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªå£°æ˜å…·æœ‰æŠ½è±¡æ–¹æ³•çš„æŠ½è±¡ç±»çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">// This class is declared abstract and thus
// can&#39;t be instantiated.
abstract class AbstractContainer {
  // Define constructors, fields, methods...

  void updateChildren(); // Abstract method.
}
</code></pre>

<h2 id="toc_69">éšå¼æ¥å£</h2>

<p>æ¯ä¸ªç±»éƒ½éšå¼å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£åŒ…å«è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹æˆå‘˜åŠå…¶å®ç°çš„ä»»ä½•æ¥å£ã€‚å¦‚æœè¦åœ¨ä¸ç»§æ‰¿Bå®ç°çš„æƒ…å†µä¸‹åˆ›å»ºæ”¯æŒBç±»APIçš„Aç±»ï¼Œåˆ™Aç±»åº”å®ç°Bæ¥å£ã€‚</p>

<p>ç±»é€šè¿‡åœ¨implementså­å¥ä¸­å£°æ˜å®ƒä»¬ç„¶åæä¾›æ¥å£æ‰€éœ€çš„APIæ¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">// A person. The implicit interface contains greet().
class Person {
  // In the interface, but visible only in this library.
  final _name;

  // Not in the interface, since this is a constructor.
  Person(this._name);

  // In the interface.
  String greet(String who) =&gt; &#39;Hello, $who. I am $_name.&#39;;
}

// An implementation of the Person interface.
class Impostor implements Person {
  get _name =&gt; &#39;&#39;;

  String greet(String who) =&gt; &#39;Hi $who. Do you know who I am?&#39;;
}

String greetBob(Person person) =&gt; person.greet(&#39;Bob&#39;);

void main() {
  print(greetBob(Person(&#39;Kathy&#39;)));
  print(greetBob(Impostor()));
}
</code></pre>

<p>è¿™æ˜¯ä¸€ä¸ªæŒ‡å®šç±»å®ç°å¤šä¸ªæ¥å£çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">class Point implements Comparable, Location {...}
</code></pre>

<h2 id="toc_70">Extending a class</h2>

<p>ä½¿ç”¨extendsåˆ›å»ºå­ç±»ï¼Œä½¿ç”¨superæ¥å¼•ç”¨è¶…ç±»ï¼š</p>

<pre><code class="language-Dart">class Television {
  void turnOn() {
    _illuminateDisplay();
    _activateIrSensor();
  }
  // Â·Â·Â·
}

class SmartTelevision extends Television {
  void turnOn() {
    super.turnOn();
    _bootNetworkInterface();
    _initializeMemory();
    _upgradeApps();
  }
  // Â·Â·Â·
}
</code></pre>

<h3 id="toc_71">é‡å†™(è¦†ç›–)æˆå‘˜</h3>

<p>å­ç±»å¯ä»¥è¦†ç›–å®ä¾‹æ–¹æ³•ï¼Œgetterå’Œsetterã€‚æ‚¨å¯ä»¥ä½¿ç”¨@overrideæ³¨é‡Šæ¥æŒ‡ç¤ºæ‚¨æœ‰æ„è¦†ç›–æˆå‘˜ï¼š</p>

<pre><code class="language-Dart">class SmartTelevision extends Television {
  @override
  void turnOn() {...}
  // Â·Â·Â·
}
</code></pre>

<p>è¦åœ¨ç±»å‹å®‰å…¨çš„ä»£ç ä¸­ç¼©å°æ–¹æ³•å‚æ•°æˆ–å®ä¾‹å˜é‡çš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://www.dartlang.org/guides/language/sound-problems#the-covariant-keyword">covariantå…³é”®å­—</a>ã€‚</p>

<h3 id="toc_72">å¯è¦†ç›–æ“ä½œç¬¦</h3>

<p>æ‚¨å¯ä»¥è¦†ç›–ä¸‹è¡¨ä¸­æ˜¾ç¤ºçš„è¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå®šä¹‰Vectorç±»ï¼Œåˆ™å¯ä»¥å®šä¹‰ä¸€ä¸ª+æ–¹æ³•æ¥æ·»åŠ ä¸¤ä¸ªå‘é‡ã€‚</p>

<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>&lt;</td>
<td>+</td>
<td>|</td>
<td>[]</td>
</tr>
<tr>
<td>&gt;</td>
<td>/</td>
<td>^</td>
<td>[]=</td>
</tr>
<tr>
<td>&lt;=</td>
<td>~/</td>
<td>&amp;</td>
<td>~</td>
</tr>
<tr>
<td>&gt;=</td>
<td>*</td>
<td>&lt;&lt;</td>
<td>==</td>
</tr>
<tr>
<td>â€“</td>
<td>%</td>
<td>&gt;&gt;</td>
<td></td>
</tr>
</tbody>
</table>

<blockquote>
<p>æ³¨æ„ï¼šæ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼=ä¸æ˜¯å¯è¦†ç›–çš„è¿ç®—ç¬¦ã€‚è¡¨è¾¾å¼e1ï¼= e2åªæ˜¯ï¼ï¼ˆe1 == e2ï¼‰çš„è¯­æ³•ç³–ã€‚</p>
</blockquote>

<p>è¿™æ˜¯ä¸€ä¸ªè¦†ç›–+å’Œ - è¿ç®—ç¬¦çš„ç±»çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">class Vector {
  final int x, y;

  Vector(this.x, this.y);

  Vector operator +(Vector v) =&gt; Vector(x + v.x, y + v.y);
  Vector operator -(Vector v) =&gt; Vector(x - v.x, y - v.y);

  // Operator == and hashCode not shown. For details, see note below.
  // Â·Â·Â·
}

void main() {
  final v = Vector(2, 3);
  final w = Vector(2, 2);

  assert(v + w == Vector(4, 5));
  assert(v - w == Vector(0, 1));
}
</code></pre>

<p>å¦‚æœè¦†ç›–<mark>ï¼Œåˆ™è¿˜åº”è¯¥è¦†ç›–Objectçš„hashCode getterã€‚æœ‰å…³é‡å†™</mark>å’ŒhashCodeçš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/libraries/library-tour#implementing-map-keys">Implementing map keys</a>ã€‚</p>

<p>æœ‰å…³è¦†ç›–çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/language-tour#extending-a-class">æ‰©å±•ç±»</a>ã€‚</p>

<h3 id="toc_73">noSuchMethod()</h3>

<p>è¦åœ¨ä»£ç å°è¯•ä½¿ç”¨ä¸å­˜åœ¨çš„æ–¹æ³•æˆ–å®ä¾‹å˜é‡æ—¶æ£€æµ‹æˆ–åšå‡ºååº”ï¼Œæ‚¨å¯ä»¥è¦†ç›–<code>noSuchMethod()</code>ï¼š</p>

<pre><code class="language-Dart">class A {
  // Unless you override noSuchMethod, using a
  // non-existent member results in a NoSuchMethodError.
  @override
  void noSuchMethod(Invocation invocation) {
    print(&#39;You tried to use a non-existent member: &#39; +
        &#39;${invocation.memberName}&#39;);
  }
}
</code></pre>

<p>é™¤éæ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€ï¼Œå¦åˆ™ä¸èƒ½è°ƒç”¨æœªå®ç°çš„æ–¹æ³•ï¼š</p>

<ul>
<li><p>The receiver has the static type dynamic.</p></li>
<li><p>The receiver has a static type that defines the unimplemented method (abstract is OK), and the dynamic type of the receiver has an implemention of noSuchMethod() thatâ€™s different from the one in class Object.</p></li>
</ul>

<p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…éæ­£å¼<a href="https://github.com/dart-lang/sdk/blob/master/docs/language/informal/nosuchmethod-forwarding.md">noSuchMethodè½¬å‘è§„èŒƒ</a>ã€‚</p>

<h2 id="toc_74">æšä¸¾ç±»å‹</h2>

<p>æšä¸¾ç±»å‹ï¼ˆé€šå¸¸ç§°ä¸ºæšä¸¾æˆ–æšä¸¾ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šç±»ï¼Œç”¨äºè¡¨ç¤ºå›ºå®šæ•°é‡çš„å¸¸é‡å€¼ã€‚</p>

<h3 id="toc_75">ä½¿ç”¨æšä¸¾</h3>

<p>ä½¿ç”¨enumå…³é”®å­—å£°æ˜æšä¸¾ç±»å‹ï¼š</p>

<pre><code class="language-Dart">enum Color { red, green, blue }
</code></pre>

<p>æšä¸¾ä¸­çš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç´¢å¼•getterï¼Œå®ƒè¿”å›æšä¸¾å£°æ˜ä¸­å€¼çš„ä»é›¶å¼€å§‹çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå€¼å…·æœ‰ç´¢å¼•0ï¼Œç¬¬äºŒä¸ªå€¼å…·æœ‰ç´¢å¼•1ã€‚</p>

<pre><code class="language-Dart">assert(Color.red.index == 0);
assert(Color.green.index == 1);
assert(Color.blue.index == 2);
</code></pre>

<p>è¦è·å–æšä¸¾ä¸­æ‰€æœ‰å€¼çš„åˆ—è¡¨ï¼Œè¯·ä½¿ç”¨æšä¸¾å€¼å¸¸é‡ã€‚</p>

<pre><code class="language-Dart">List&lt;Color&gt; colors = Color.values;
assert(colors[2] == Color.blue);
</code></pre>

<p>æ‚¨å¯ä»¥åœ¨switchè¯­å¥ä¸­ä½¿ç”¨æšä¸¾ï¼Œå¦‚æœæ‚¨ä¸å¤„ç†æ‰€æœ‰æšä¸¾å€¼ï¼Œæ‚¨å°†æ”¶åˆ°è­¦å‘Šï¼š</p>

<pre><code class="language-Dart">var aColor = Color.blue;

switch (aColor) {
  case Color.red:
    print(&#39;Red as roses!&#39;);
    break;
  case Color.green:
    print(&#39;Green as grass!&#39;);
    break;
  default: // Without this, you see a WARNING.
    print(aColor); // &#39;Color.blue&#39;
}
</code></pre>

<p>æšä¸¾ç±»å‹å…·æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p>

<ul>
<li>æ‚¨ä¸èƒ½å­ç±»åŒ–ï¼Œæ··åˆæˆ–å®ç°æšä¸¾ã€‚</li>
<li>æ‚¨æ— æ³•æ˜¾å¼å®ä¾‹åŒ–æšä¸¾ã€‚</li>
</ul>

<p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/spec">Dartè¯­è¨€è§„èŒƒ</a>ã€‚</p>

<h3 id="toc_76">å‘ç±»æ·»åŠ åŠŸèƒ½ï¼šmixins</h3>

<p>Mixinsæ˜¯ä¸€ç§åœ¨å¤šä¸ªç±»å±‚æ¬¡ç»“æ„ä¸­é‡ç”¨ç±»ä»£ç çš„æ–¹æ³•ã€‚</p>

<p>è¦ä½¿ç”¨mixinï¼Œè¯·ä½¿ç”¨withå…³é”®å­—ï¼Œåè·Ÿä¸€ä¸ªæˆ–å¤šä¸ªmixinåç§°ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸¤ä¸ªä½¿ç”¨mixinsçš„ç±»ï¼š</p>

<pre><code class="language-Dart">class Musician extends Performer with Musical {
  // Â·Â·Â·
}

class Maestro extends Person
    with Musical, Aggressive, Demented {
  Maestro(String maestroName) {
    name = maestroName;
    canConduct = true;
  }
}
</code></pre>

<p>è¦å®ç°ä¸€ä¸ªmixinï¼Œåˆ›å»ºä¸€ä¸ªæ‰©å±•Objectçš„ç±»ï¼Œå£°æ˜æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”æ²¡æœ‰è°ƒç”¨superã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">abstract class Musical {
  bool canPlayPiano = false;
  bool canCompose = false;
  bool canConduct = false;

  void entertainMe() {
    if (canPlayPiano) {
      print(&#39;Playing piano&#39;);
    } else if (canConduct) {
      print(&#39;Waving hands&#39;);
    } else {
      print(&#39;Humming to self&#39;);
    }
  }
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šæ­£åœ¨åˆ é™¤å¯¹mixinçš„ä¸€äº›é™åˆ¶ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/dart-lang/sdk/blob/master/docs/language/informal/mixin-declaration.md">å»ºè®®çš„mixinè§„èŒƒ</a>ã€‚</p>
</blockquote>

<p>æœ‰å…³Dartä¸­mixinsæ¼”å˜çš„ç†è®ºä»‹ç»ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/articles/language/mixins">Dartä¸­Mixinsçš„ç®€å²</a>ã€‚</p>

<h3 id="toc_77">Class variables and methods</h3>

<p>ä½¿ç”¨staticå…³é”®å­—å®ç°ç±»èŒƒå›´çš„å˜é‡å’Œæ–¹æ³•ã€‚</p>

<h4 id="toc_78">é™æ€å˜é‡</h4>

<p>é™æ€å˜é‡ï¼ˆç±»å˜é‡ï¼‰å¯¹äºç±»èŒƒå›´çš„çŠ¶æ€å’Œå¸¸é‡å¾ˆæœ‰ç”¨ï¼š</p>

<pre><code class="language-Dart">class Queue {
  static const initialCapacity = 16;
  // Â·Â·Â·
}

void main() {
  assert(Queue.initialCapacity == 16);
}
</code></pre>

<p>é™æ€å˜é‡åœ¨ä½¿ç”¨ä¹‹å‰ä¸ä¼šåˆå§‹åŒ–ã€‚</p>

<blockquote>
<p>æ³¨æ„ï¼šæ­¤é¡µé¢éµå¾ªæ ·å¼æŒ‡å—å»ºè®®ï¼Œä¼˜å…ˆé€‰æ‹©lowerCamelCaseä½œä¸ºå¸¸é‡åç§°ã€‚</p>
</blockquote>

<h4 id="toc_79">é™æ€æ–¹æ³•</h4>

<p>é™æ€æ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰ä¸å¯¹å®ä¾‹è¿›è¡Œæ“ä½œï¼Œå› æ­¤<code>this</code>æ— æ³•è®¿é—®å®ƒã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">import &#39;dart:math&#39;;

class Point {
  num x, y;
  Point(this.x, this.y);

  static num distanceBetween(Point a, Point b) {
    var dx = a.x - b.x;
    var dy = a.y - b.y;
    return sqrt(dx * dx + dy * dy);
  }
}

void main() {
  var a = Point(2, 2);
  var b = Point(4, 4);
  var distance = Point.distanceBetween(a, b);
  assert(2.8 &lt; distance &amp;&amp; distance &lt; 2.9);
  print(distance);
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šå¯¹äºå¸¸ç”¨æˆ–å¹¿æ³›ä½¿ç”¨çš„å®ç”¨ç¨‹åºå’ŒåŠŸèƒ½ï¼Œè¯·è€ƒè™‘ä½¿ç”¨é¡¶çº§å‡½æ•°è€Œä¸æ˜¯é™æ€æ–¹æ³•ã€‚</p>
</blockquote>

<h2 id="toc_80">æ³›å‹</h2>

<p>å¦‚æœæŸ¥çœ‹åŸºæœ¬æ•°ç»„ç±»å‹çš„APIæ–‡æ¡£Listï¼Œæ‚¨ä¼šçœ‹åˆ°è¯¥ç±»å‹å®é™…ä¸Šæ˜¯List <E>ã€‚ &lt;...&gt;è¡¨ç¤ºæ³•å°†Listæ ‡è®°ä¸ºé€šç”¨ï¼ˆæˆ–å‚æ•°åŒ–ï¼‰ç±»å‹ - å…·æœ‰æ­£å¼ç±»å‹å‚æ•°çš„ç±»å‹ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œç±»å‹å˜é‡å…·æœ‰å•å­—æ¯åç§°ï¼Œä¾‹å¦‚Eï¼ŒTï¼ŒSï¼ŒKå’ŒV.</p>

<h3 id="toc_81">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹ï¼Ÿ</h3>

<p>ç±»å‹å®‰å…¨é€šå¸¸éœ€è¦æ³›å‹ï¼Œä½†å®ƒä»¬æ¯”ä»…å…è®¸ä»£ç è¿è¡Œæœ‰æ›´å¤šå¥½å¤„ï¼š</p>

<ul>
<li>æ­£ç¡®æŒ‡å®šæ³›å‹ç±»å‹å¯ä»¥ç”Ÿæˆæ›´å¥½çš„ä»£ç ã€‚ </li>
<li>æ‚¨å¯ä»¥ä½¿ç”¨æ³›å‹æ¥å‡å°‘ä»£ç é‡å¤ã€‚</li>
</ul>

<p>å¦‚æœæ‚¨å¸Œæœ›åˆ—è¡¨åªåŒ…å«å­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥å°†å…¶å£°æ˜ä¸ºList <String>ï¼ˆå°†å…¶ç§°ä¸ºâ€œå­—ç¬¦ä¸²åˆ—è¡¨â€ï¼‰ã€‚è¿™æ ·ï¼Œæ‚¨ï¼Œæ‚¨çš„ç¨‹åºå‘˜å’Œæ‚¨çš„å·¥å…·å¯ä»¥æ£€æµ‹åˆ°å°†éå­—ç¬¦ä¸²åˆ†é…ç»™åˆ—è¡¨å¯èƒ½æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>

<pre><code class="language-Dart">var names = List&lt;String&gt;();
names.addAll([&#39;Seth&#39;, &#39;Kathy&#39;, &#39;Lars&#39;]);
names.add(42); // Error
</code></pre>

<p>ä½¿ç”¨æ³›å‹çš„å¦ä¸€ä¸ªåŸå› æ˜¯å‡å°‘ä»£ç é‡å¤ã€‚æ³›å‹å…è®¸æ‚¨åœ¨å¤šç§ç±»å‹ä¹‹é—´å…±äº«å•ä¸ªæ¥å£å’Œå®ç°ï¼ŒåŒæ—¶ä»ç„¶åˆ©ç”¨é™æ€åˆ†æã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨åˆ›å»ºäº†ä¸€ä¸ªç”¨äºç¼“å­˜å¯¹è±¡çš„æ¥å£ï¼š</p>

<pre><code class="language-Dart">abstract class ObjectCache {
  Object getByKey(String key);
  void setByKey(String key, Object value);
}
</code></pre>

<p>æ‚¨å‘ç°éœ€è¦æ­¤æ¥å£çš„ç‰¹å®šäºå­—ç¬¦ä¸²çš„ç‰ˆæœ¬ï¼Œå› æ­¤æ‚¨éœ€è¦åˆ›å»ºå¦ä¸€ä¸ªæ¥å£ï¼š</p>

<pre><code class="language-Dart">abstract class StringCache {
  String getByKey(String key);
  void setByKey(String key, String value);
}
</code></pre>

<p>ä¹‹åï¼Œæ‚¨å†³å®šè¦ä½¿ç”¨æ­¤æ¥å£çš„ç‰¹å®šæ•°å­—ç‰ˆæœ¬......æ‚¨ä¼šæ˜ç™½è¿™ä¸€ç‚¹ã€‚</p>

<p>é€šç”¨ç±»å‹å¯ä»¥çœå»åˆ›å»ºæ‰€æœ‰è¿™äº›æ¥å£çš„éº»çƒ¦ã€‚ç›¸åï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç±»å‹å‚æ•°çš„æ¥å£ï¼š</p>

<pre><code class="language-Dart">abstract class Cache&lt;T&gt; {
  T getByKey(String key);
  void setByKey(String key, T value);
}
</code></pre>

<p>åœ¨æ­¤ä»£ç ä¸­ï¼ŒTæ˜¯æ›¿èº«ç±»å‹ã€‚å®ƒæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä¸ºå¼€å‘äººå‘˜ç¨åå®šä¹‰çš„ç±»å‹ã€‚</p>

<h3 id="toc_82">Using collection literals</h3>

<p>listå’Œmapå¯ä»¥å‚æ•°åŒ–ã€‚å‚æ•°åŒ–æ–‡å­—å°±åƒä½ å·²ç»çœ‹åˆ°çš„æ–‡å­—ä¸€æ ·ï¼Œé™¤äº†ä½ åœ¨å¼€å§‹æ‹¬å·ä¹‹å‰æ·»åŠ <type>ï¼ˆå¯¹äºåˆ—è¡¨ï¼‰æˆ–<keyTypeï¼ŒvalueType>ï¼ˆå¯¹äºmapsï¼‰ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ç±»å‹æ–‡å­—çš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">var names = &lt;String&gt;[&#39;Seth&#39;, &#39;Kathy&#39;, &#39;Lars&#39;];
var pages = &lt;String, String&gt;{
  &#39;index.html&#39;: &#39;Homepage&#39;,
  &#39;robots.txt&#39;: &#39;Hints for web robots&#39;,
  &#39;humans.txt&#39;: &#39;We are people, not machines&#39;
};
</code></pre>

<h3 id="toc_83">ä½¿ç”¨å¸¦æœ‰æ„é€ å‡½æ•°çš„å‚æ•°åŒ–ç±»å‹</h3>

<p>è¦åœ¨ä½¿ç”¨æ„é€ å‡½æ•°æ—¶æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹ï¼Œè¯·å°†ç±»å‹æ”¾åœ¨å°–æ‹¬å·ï¼ˆ&lt;...&gt;ï¼‰çš„ç±»ååé¢ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">var names = List&lt;String&gt;();
names.addAll([&#39;Seth&#39;, &#39;Kathy&#39;, &#39;Lars&#39;]);
var nameSet = Set&lt;String&gt;.from(names);
</code></pre>

<p>ä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªå…·æœ‰æ•´æ•°é”®å’ŒViewç±»å‹å€¼çš„æ˜ å°„ï¼š</p>

<pre><code class="language-Dart">var views = Map&lt;int, View&gt;();
</code></pre>

<h3 id="toc_84">æ³›å‹é›†åˆåŠå…¶åŒ…å«çš„ç±»å‹</h3>

<p>Dartæ³›å‹ç±»å‹è¢«å®šä¹‰ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åœ¨è¿è¡Œæ—¶æºå¸¦å®ƒä»¬çš„ç±»å‹ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æµ‹è¯•é›†åˆçš„ç±»å‹ï¼š</p>

<pre><code class="language-Dart">var names = List&lt;String&gt;();
names.addAll([&#39;Seth&#39;, &#39;Kathy&#39;, &#39;Lars&#39;]);
print(names is List&lt;String&gt;); // true
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šç›¸åï¼ŒJavaä¸­çš„æ³›å‹ä½¿ç”¨æ“¦é™¤ï¼Œè¿™æ„å‘³ç€åœ¨è¿è¡Œæ—¶åˆ é™¤æ³›å‹ç±»å‹å‚æ•°ã€‚åœ¨Javaä¸­ï¼Œæ‚¨å¯ä»¥æµ‹è¯•å¯¹è±¡æ˜¯å¦ä¸ºListï¼Œä½†æ— æ³•æµ‹è¯•å®ƒæ˜¯å¦ä¸ºList <String>ã€‚</p>
</blockquote>

<h3 id="toc_85">é™åˆ¶å‚æ•°åŒ–ç±»å‹</h3>

<p>å®ç°æ³›å‹ç±»å‹æ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é™åˆ¶å…¶å‚æ•°çš„ç±»å‹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code>extends</code>æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚</p>

<pre><code class="language-Dart">class Foo&lt;T extends SomeBaseClass&gt; {
  // Implementation goes here...
  String toString() =&gt; &quot;Instance of &#39;Foo&lt;$T&gt;&#39;&quot;;
}

class Extender extends SomeBaseClass {...}
</code></pre>

<p>å¯ä»¥ä½¿ç”¨SomeBaseClassæˆ–å…¶ä»»ä½•å­ç±»ä½œä¸ºé€šç”¨å‚æ•°ï¼š</p>

<pre><code class="language-Dart">var someBaseClassFoo = Foo&lt;SomeBaseClass&gt;();
var extenderFoo = Foo&lt;Extender&gt;();
</code></pre>

<p>ä¹Ÿå¯ä»¥ä¸æŒ‡å®šæ³›å‹å‚æ•°ï¼š</p>

<pre><code class="language-Dart">var foo = Foo();
print(foo); // Instance of &#39;Foo&lt;SomeBaseClass&gt;&#39;
</code></pre>

<p>æŒ‡å®šä»»ä½•éSomeBaseClassç±»å‹ä¼šå¯¼è‡´é”™è¯¯ï¼š</p>

<pre><code class="language-Dart">var foo = Foo&lt;Object&gt;();
</code></pre>

<h3 id="toc_86">ä½¿ç”¨æ³›å‹æ–¹æ³•</h3>

<p>æœ€åˆï¼ŒDartçš„æ³›å‹æ”¯æŒä»…é™äºç±»ã€‚ä¸€ç§ç§°ä¸ºæ³›å‹æ–¹æ³•çš„æ–°è¯­æ³•å…è®¸åœ¨æ–¹æ³•å’Œå‡½æ•°ä¸Šä½¿ç”¨ç±»å‹å‚æ•°ï¼š</p>

<pre><code class="language-Dart">T first&lt;T&gt;(List&lt;T&gt; ts) {
  // Do some initial work or error checking, then...
  T tmp = ts[0];
  // Do some additional checking or processing...
  return tmp;
}
</code></pre>

<p>è¿™é‡Œï¼Œfirstï¼ˆ<T>ï¼‰ä¸Šçš„æ³›å‹ç±»å‹å‚æ•°å…è®¸æ‚¨åœ¨å‡ ä¸ªåœ°æ–¹ä½¿ç”¨ç±»å‹å‚æ•°Tï¼š</p>

<ul>
<li>åœ¨å‡½æ•°çš„è¿”å›ç±»å‹ï¼ˆTï¼‰ä¸­ã€‚ </li>
<li>åœ¨å‚æ•°çš„ç±»å‹ï¼ˆList <T>ï¼‰ä¸­ã€‚ </li>
<li>åœ¨å±€éƒ¨å˜é‡çš„ç±»å‹ï¼ˆT tmpï¼‰ã€‚</li>
</ul>

<p>æœ‰å…³æ³›å‹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/dart-lang/sdk/blob/master/pkg/dev_compiler/doc/GENERIC_METHODS.md">ä½¿ç”¨æ³›å‹æ–¹æ³•</a>ã€‚</p>

<h2 id="toc_87">Libraries and visibility</h2>

<p><code>impotr</code>å’Œ<code>library</code>æŒ‡ä»¤å¯ä»¥å¸®åŠ©æ‚¨åˆ›å»ºæ¨¡å—åŒ–å’Œå¯å…±äº«çš„ä»£ç åº“ã€‚ åº“ä¸ä»…æä¾›APIï¼Œè¿˜æ˜¯éšç§å•å…ƒï¼šä»¥ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰å¼€å¤´çš„æ ‡è¯†ç¬¦ä»…åœ¨åº“å†…å¯è§ã€‚ æ¯ä¸ªDartåº”ç”¨ç¨‹åºéƒ½æ˜¯ä¸€ä¸ªåº“ï¼Œå³ä½¿å®ƒä¸ä½¿ç”¨åº“æŒ‡ä»¤ã€‚</p>

<p>å¯ä»¥ä½¿ç”¨åŒ…æ¥åˆ†å‘åº“ã€‚æœ‰å…³pubï¼ˆåŒ…å«åœ¨SDKä¸­çš„åŒ…ç®¡ç†å™¨ï¼‰çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/tools/pub">Pub Packageå’ŒAsset Manager</a>ã€‚</p>

<h3 id="toc_88">ä½¿ç”¨åº“</h3>

<p>ä½¿ç”¨importæŒ‡å®šå¦‚ä½•åœ¨å¦ä¸€ä¸ªåº“çš„èŒƒå›´å†…ä½¿ç”¨æ¥è‡ªä¸€ä¸ªåº“çš„å‘½åç©ºé—´ã€‚</p>

<p>ä¾‹å¦‚ï¼ŒDart Webåº”ç”¨ç¨‹åºé€šå¸¸ä½¿ç”¨dartï¼šhtmlåº“ï¼Œå®ƒä»¬å¯ä»¥åƒè¿™æ ·å¯¼å…¥ï¼š</p>

<pre><code class="language-Dart">import &#39;dart:html&#39;;
</code></pre>

<p>å¯¼å…¥çš„å”¯ä¸€å¿…éœ€å‚æ•°æ˜¯æŒ‡å®šåº“çš„URIã€‚å¯¹äºå†…ç½®åº“ï¼ŒURIå…·æœ‰ç‰¹æ®Šçš„dartï¼šschemeã€‚å¯¹äºå…¶ä»–åº“ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè·¯å¾„æˆ–packageï¼šschemeã€‚ packageï¼šschemeæŒ‡å®šç”±åŒ…ç®¡ç†å™¨ï¼ˆå¦‚pubå·¥å…·ï¼‰æä¾›çš„åº“ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">import &#39;package:test/test.dart&#39;;
</code></pre>

<p>æ³¨æ„ï¼šURIä»£è¡¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚ URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æ˜¯ä¸€ç§å¸¸è§çš„URIã€‚</p>

<h3 id="toc_89">æŒ‡å®šåº“å‰ç¼€</h3>

<p>å¦‚æœå¯¼å…¥ä¸¤ä¸ªå…·æœ‰å†²çªæ ‡è¯†ç¬¦çš„åº“ï¼Œåˆ™å¯ä»¥ä¸ºä¸€ä¸ªæˆ–ä¸¤ä¸ªåº“æŒ‡å®šå‰ç¼€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœlibrary1å’Œlibrary2éƒ½æœ‰ä¸€ä¸ªElementç±»ï¼Œé‚£ä¹ˆä½ å¯èƒ½æœ‰è¿™æ ·çš„ä»£ç ï¼š</p>

<pre><code class="language-Dart">import &#39;package:lib1/lib1.dart&#39;;
import &#39;package:lib2/lib2.dart&#39; as lib2;

// Uses Element from lib1.
Element element1 = Element();

// Uses Element from lib2.
lib2.Element element2 = lib2.Element();
</code></pre>

<h3 id="toc_90">ä»…å¯¼å…¥åº“çš„ä¸€éƒ¨åˆ†</h3>

<p>å¦‚æœåªæƒ³ä½¿ç”¨åº“çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™å¯ä»¥æœ‰é€‰æ‹©åœ°å¯¼å…¥åº“ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">// Import only foo.
import &#39;package:lib1/lib1.dart&#39; show foo;

// Import all names EXCEPT foo.
import &#39;package:lib2/lib2.dart&#39; hide foo;
</code></pre>

<h3 id="toc_91">æ‡’åŠ è½½ä¸€ä¸ªåº“</h3>

<p>å»¶è¿ŸåŠ è½½ï¼ˆä¹Ÿç§°ä¸ºå»¶è¿ŸåŠ è½½ï¼‰å…è®¸åº”ç”¨ç¨‹åºæ ¹æ®éœ€è¦åŠ è½½åº“ï¼Œå¦‚æœéœ€è¦çš„è¯ã€‚ä»¥ä¸‹æ˜¯æ‚¨å¯èƒ½ä½¿ç”¨å»¶è¿ŸåŠ è½½çš„ä¸€äº›æƒ…å†µï¼š</p>

<ul>
<li>å‡å°‘åº”ç”¨ç¨‹åºçš„åˆå§‹å¯åŠ¨æ—¶é—´ã€‚ </li>
<li>ä¾‹å¦‚ï¼Œæ‰§è¡ŒA / Bæµ‹è¯• - å°è¯•ç®—æ³•çš„æ›¿ä»£å®ç°ã€‚ </li>
<li>åŠ è½½å¾ˆå°‘ä½¿ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å¯é€‰çš„å±å¹•å’Œå¯¹è¯æ¡†ã€‚</li>
</ul>

<p>è¦å»¶è¿ŸåŠ è½½åº“ï¼Œå¿…é¡»å…ˆä½¿ç”¨deferredå¯¼å…¥å®ƒã€‚</p>

<pre><code class="language-Dart">import &#39;package:greetings/hello.dart&#39; deferred as hello;
</code></pre>

<p>å½“æ‚¨éœ€è¦åº“æ—¶ï¼Œä½¿ç”¨åº“çš„æ ‡è¯†ç¬¦è°ƒç”¨<code>loadLibrary()</code>ã€‚</p>

<pre><code>Future greet() async {
  await hello.loadLibrary();
  hello.printGreeting();
}
</code></pre>

<p>åœ¨å‰é¢çš„ä»£ç ä¸­ï¼Œawaitå…³é”®å­—æš‚åœæ‰§è¡Œï¼Œç›´åˆ°åŠ è½½åº“ã€‚æœ‰å…³asyncå’Œawaitçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/language-tour#asynchrony-support">å¼‚æ­¥æ”¯æŒ</a>ã€‚</p>

<p>æ‚¨å¯ä»¥åœ¨åº“ä¸Šå¤šæ¬¡è°ƒç”¨<code>loadLibrary()</code>è€Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚è¯¥åº“åªåŠ è½½ä¸€æ¬¡ã€‚</p>

<p>ä½¿ç”¨å»¶è¿ŸåŠ è½½æ—¶è¯·è®°ä½ä»¥ä¸‹å†…å®¹ï¼š</p>

<ul>
<li>å»¶è¿Ÿåº“çš„å¸¸é‡ä¸æ˜¯å¯¼å…¥æ–‡ä»¶ä¸­çš„å¸¸é‡ã€‚è¯·è®°ä½ï¼Œåœ¨åŠ è½½å»¶è¿Ÿåº“ä¹‹å‰ï¼Œè¿™äº›å¸¸é‡ä¸å­˜åœ¨ã€‚</li>
<li>æ‚¨ä¸èƒ½åœ¨å¯¼å…¥æ–‡ä»¶ä¸­ä½¿ç”¨å»¶è¿Ÿåº“ä¸­çš„ç±»å‹ã€‚ç›¸åï¼Œè¯·è€ƒè™‘å°†æ¥å£ç±»å‹ç§»åŠ¨åˆ°ç”±å»¶è¿Ÿåº“å’Œå¯¼å…¥æ–‡ä»¶å¯¼å…¥çš„åº“ã€‚</li>
<li>Dartéšå¼åœ°å°†loadLibrary()æ’å…¥åˆ°ä½¿ç”¨deferred as namespaceå®šä¹‰çš„å‘½åç©ºé—´ä¸­ã€‚ loadLibrary()å‡½æ•°è¿”å›Futureã€‚</li>
</ul>

<blockquote>
<p>Dart VMå·®å¼‚ï¼šå³ä½¿åœ¨è°ƒç”¨loadLibraryï¼ˆï¼‰ä¹‹å‰ï¼ŒDart VMä¹Ÿå…è®¸è®¿é—®å»¶è¿Ÿåº“çš„æˆå‘˜ã€‚æ­¤è¡Œä¸ºå¯èƒ½ä¼šæ›´æ”¹ï¼Œå› æ­¤ä¸è¦ä¾èµ–äºå½“å‰çš„VMè¡Œä¸ºã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/dart-lang/sdk/issues/33118">é—®é¢˜ï¼ƒ33118</a>ã€‚</p>
</blockquote>

<h3 id="toc_92">å®ç°åº“</h3>

<p>æœ‰å…³å¦‚ä½•å®ç°åº“åŒ…çš„å»ºè®®ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/libraries/create-library-packages">åˆ›å»ºåº“åŒ…</a>ï¼ŒåŒ…æ‹¬ï¼š</p>

<ul>
<li>å¦‚ä½•ç»„ç»‡åº“æºä»£ç ã€‚ </li>
<li>å¦‚ä½•ä½¿ç”¨exportæŒ‡ä»¤ã€‚ </li>
<li>ä½•æ—¶ä½¿ç”¨partæŒ‡ä»¤ã€‚</li>
</ul>

<h2 id="toc_93">å¼‚æ­¥æ”¯æŒ</h2>

<p>Dartåº“ä¸­åŒ…å«è®¸å¤šè¿”å›Futureæˆ–Streamå¯¹è±¡çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼šå®ƒä»¬åœ¨è®¾ç½®å¯èƒ½è€—æ—¶çš„æ“ä½œï¼ˆä¾‹å¦‚I / Oï¼‰åè¿”å›ï¼Œè€Œä¸ç­‰å¾…è¯¥æ“ä½œå®Œæˆã€‚</p>

<p>asyncå’Œawaitå…³é”®å­—æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ï¼Œå…è®¸æ‚¨ç¼–å†™çœ‹èµ·æ¥ç±»ä¼¼äºåŒæ­¥ä»£ç çš„å¼‚æ­¥ä»£ç ã€‚</p>

<h3 id="toc_94">Handling Futures(å¤„ç†æœŸè´§)</h3>

<p>å½“æ‚¨éœ€è¦å®Œæˆçš„Futureçš„ç»“æœæ—¶ï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p>

<ul>
<li>ä½¿ç”¨asyncå’Œawaitã€‚</li>
<li>ä½¿ç”¨Future APIï¼Œå¦‚<a href="https://www.dartlang.org/guides/libraries/library-tour#future">the library tour</a>ä¸­æ‰€è¿°ã€‚</li>
</ul>

<p>ä½¿ç”¨asyncå’Œawaitçš„ä»£ç æ˜¯å¼‚æ­¥çš„ï¼Œä½†å®ƒçœ‹èµ·æ¥å¾ˆåƒåŒæ­¥ä»£ç ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€äº›ä»£ç ä½¿ç”¨awaitæ¥ç­‰å¾…å¼‚æ­¥å‡½æ•°çš„ç»“æœï¼š</p>

<pre><code class="language-Dart">await lookUpVersion();
</code></pre>

<p>è¦ä½¿ç”¨awaitï¼Œä»£ç å¿…é¡»ä½äºå¼‚æ­¥å‡½æ•°ä¸­ - æ ‡è®°ä¸ºasyncçš„å‡½æ•°ï¼š</p>

<pre><code class="language-Dart">Future checkVersion() async {
  var version = await lookUpVersion();
  // Do something with version
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šè™½ç„¶å¼‚æ­¥å‡½æ•°å¯èƒ½æ‰§è¡Œè€—æ—¶çš„æ“ä½œï¼Œä½†å®ƒä¸ä¼šç­‰å¾…è¿™äº›æ“ä½œã€‚ç›¸åï¼Œå¼‚æ­¥å‡½æ•°åªåœ¨é‡åˆ°ç¬¬ä¸€ä¸ªawaitè¡¨è¾¾å¼ï¼ˆ<a href="https://github.com/dart-lang/sdk/blob/master/docs/newsletter/20170915.md#synchronous-async-start">è¯¦ç»†ä¿¡æ¯</a>ï¼‰æ—¶æ‰ä¼šæ‰§è¡Œã€‚ç„¶åå®ƒè¿”å›ä¸€ä¸ªFutureå¯¹è±¡ï¼Œä»…åœ¨awaitè¡¨è¾¾å¼å®Œæˆåæ‰æ¢å¤æ‰§è¡Œã€‚</p>
</blockquote>

<p>ä½¿ç”¨tryï¼Œcatchï¼Œæœ€ååœ¨ä½¿ç”¨awaitçš„ä»£ç ä¸­å¤„ç†é”™è¯¯å’Œæ¸…ç†ï¼š</p>

<pre><code class="language-Dart">try {
  version = await lookUpVersion();
} catch (e) {
  // React to inability to look up the version
}
</code></pre>

<p>æ‚¨å¯ä»¥åœ¨å¼‚æ­¥å‡½æ•°ä¸­å¤šæ¬¡ä½¿ç”¨ç­‰å¾…ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ç­‰å¾…ä¸‰æ¬¡å‡½æ•°ç»“æœï¼š</p>

<pre><code class="language-Dart">var entrypoint = await findEntrypoint();
var exitCode = await runExecutable(entrypoint, args);
await flushThenExit(exitCode);
</code></pre>

<p>åœ¨awaitè¡¨è¾¾å¼ä¸­ï¼Œè¡¨è¾¾å¼çš„å€¼é€šå¸¸æ˜¯Future;å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆè¯¥å€¼å°†è‡ªåŠ¨åŒ…å«åœ¨Futureä¸­ã€‚æ­¤Futureå¯¹è±¡è¡¨ç¤ºè¿”å›å¯¹è±¡çš„æ‰¿è¯ºã€‚ awaitè¡¨è¾¾å¼çš„å€¼æ˜¯è¿”å›çš„å¯¹è±¡ã€‚ awaitè¡¨è¾¾å¼ä½¿æ‰§è¡Œæš‚åœï¼Œç›´åˆ°è¯¥å¯¹è±¡å¯ç”¨ã€‚</p>

<p>å¦‚æœåœ¨ä½¿ç”¨awaitæ—¶é‡åˆ°ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯·ç¡®ä¿awaitåœ¨å¼‚æ­¥å‡½æ•°ä¸­ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨åº”ç”¨ç¨‹åºçš„mainï¼ˆï¼‰å‡½æ•°ä¸­ä½¿ç”¨awaitï¼Œmainï¼ˆï¼‰çš„ä¸»ä½“å¿…é¡»æ ‡è®°ä¸ºasyncï¼š</p>

<pre><code class="language-Dart">Future main() async {
  checkVersion();
  print(&#39;In main: version is ${await lookUpVersion()}&#39;);
}
</code></pre>

<h3 id="toc_95">å£°æ˜å¼‚æ­¥å‡½æ•°</h3>

<p>å¼‚æ­¥å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸»ä½“ç”¨asyncä¿®é¥°ç¬¦æ ‡è®°ã€‚</p>

<p>å°†asyncå…³é”®å­—æ·»åŠ åˆ°å‡½æ•°ä½¿å…¶è¿”å›Futureã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘è¿™ä¸ªåŒæ­¥å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªStringï¼š</p>

<pre><code class="language-Dart">String lookUpVersion() =&gt; &#39;1.0.0&#39;;
</code></pre>

<p>å¦‚æœå°†å…¶æ›´æ”¹ä¸ºå¼‚æ­¥å‡½æ•° - ä¾‹å¦‚ï¼Œå› ä¸ºå°†æ¥çš„å®ç°å°†éå¸¸è€—æ—¶ - è¿”å›çš„å€¼æ˜¯Futureï¼š</p>

<pre><code class="language-Dart">Future&lt;String&gt; lookUpVersion() async =&gt; &#39;1.0.0&#39;;
</code></pre>

<p>è¯·æ³¨æ„ï¼Œå‡½æ•°çš„ä¸»ä½“ä¸éœ€è¦ä½¿ç”¨Future APIã€‚å¦‚æœ‰å¿…è¦ï¼ŒDartä¼šåˆ›å»ºFutureå¯¹è±¡ã€‚</p>

<p>å¦‚æœæ‚¨çš„å‡½æ•°æ²¡æœ‰è¿”å›æœ‰ç”¨çš„å€¼ï¼Œè¯·ä½¿å…¶è¿”å›ç±»å‹ä¸º<code>Future &lt;void&gt;</code>ã€‚</p>

<h3 id="toc_96">å¤„ç†æµ</h3>

<p>å½“æ‚¨éœ€è¦ä»Streamè·å–å€¼æ—¶ï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p>

<ul>
<li>ä½¿ç”¨asyncå’Œå¼‚æ­¥forå¾ªç¯ï¼ˆ<code>await for</code>ï¼‰ã€‚ </li>
<li>ä½¿ç”¨Stream APIï¼Œå¦‚<a href="https://www.dartlang.org/guides/libraries/library-tour#stream">åº“æµè§ˆ</a>ä¸­æ‰€è¿°ã€‚</li>
</ul>

<blockquote>
<p>ä½¿ç”¨awaitä¹‹å‰ï¼Œè¯·ç¡®ä¿å®ƒä½¿ä»£ç æ›´æ¸…æ™°ï¼Œå¹¶ä¸”æ‚¨ç¡®å®å¸Œæœ›ç­‰å¾…æ‰€æœ‰æµçš„ç»“æœã€‚ä¾‹å¦‚ï¼Œæ‚¨é€šå¸¸ä¸åº”è¯¥ä½¿ç”¨await for UIäº‹ä»¶ä¾¦å¬å™¨ï¼Œå› ä¸ºUIæ¡†æ¶ä¼šå‘é€æ— ç©·æ— å°½çš„äº‹ä»¶æµã€‚</p>
</blockquote>

<p>å¼‚æ­¥forå¾ªç¯å…·æœ‰ä»¥ä¸‹å½¢å¼ï¼š</p>

<pre><code class="language-Dart">await for (varOrType identifier in expression) {
  // Executes each time the stream emits a value.
}
</code></pre>

<h2 id="toc_97">ç”Ÿæˆå™¨</h2>

<p>æ‚¨éœ€è¦æ‡’æƒ°åœ°ç”Ÿæˆsequence of valuesæ—¶ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ã€‚ Dartå†…ç½®æ”¯æŒä¸¤ç§ç”Ÿæˆå™¨ï¼š</p>

<ul>
<li>åŒæ­¥ç”Ÿæˆå™¨ï¼šè¿”å›ä¸€ä¸ª<a href="https://api.dartlang.org/stable/dart-core/Iterable-class.html">Iterable</a>å¯¹è±¡ã€‚ </li>
<li>å¼‚æ­¥ç”Ÿæˆå™¨ï¼šè¿”å›<a href="https://api.dartlang.org/stable/dart-core/Iterable-class.html">Stream</a>å¯¹è±¡ã€‚</li>
</ul>

<p>è¦å®ç°åŒæ­¥ç”Ÿæˆå™¨å‡½æ•°ï¼Œè¯·å°†å‡½æ•°ä½“æ ‡è®°ä¸º<code>sync*</code>ï¼Œå¹¶ä½¿ç”¨<code>yield</code>è¯­å¥æ¥ä¼ é€’å€¼ï¼š</p>

<pre><code class="language-Dart">Iterable&lt;int&gt; naturalsTo(int n) sync* {
  int k = 0;
  while (k &lt; n) yield k++;
}
</code></pre>

<p>è¦å®ç°å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°ï¼Œè¯·å°†å‡½æ•°ä½“æ ‡è®°ä¸º<code>async*</code>ï¼Œå¹¶ä½¿ç”¨<code>yield</code>è¯­å¥æ¥ä¼ é€’å€¼ï¼š</p>

<pre><code class="language-Dart">Stream&lt;int&gt; asynchronousNaturalsTo(int n) async* {
  int k = 0;
  while (k &lt; n) yield k++;
}
</code></pre>

<p>å¦‚æœæ‚¨çš„ç”Ÿæˆå™¨æ˜¯é€’å½’çš„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨yield *æ¥æé«˜å…¶æ€§èƒ½ï¼š</p>

<pre><code class="language-Dart">Iterable&lt;int&gt; naturalsDownFrom(int n) sync* {
  if (n &gt; 0) {
    yield n;
    yield* naturalsDownFrom(n - 1);
  }
}
</code></pre>

<p>æœ‰å…³ç”Ÿæˆå™¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æ–‡ç« <a href="https://www.dartlang.org/articles/language/beyond-async">Dartè¯­è¨€å¼‚æ­¥æ”¯æŒï¼šé˜¶æ®µ2</a>ã€‚</p>

<h2 id="toc_98">Callable classes</h2>

<p>è¦å…è®¸åƒå‡½æ•°ä¸€æ ·è°ƒç”¨Dartç±»ï¼Œè¯·å®ç°<code>call()</code>æ–¹æ³•ã€‚</p>

<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒWannabeFunctionç±»å®šä¹‰äº†ä¸€ä¸ªcallï¼ˆï¼‰å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå­—ç¬¦ä¸²å¹¶è¿æ¥å®ƒä»¬ï¼Œç”¨ç©ºæ ¼åˆ†éš”æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶é™„åŠ ä¸€ä¸ªæ„Ÿå¹å·ã€‚å•å‡»â€œè¿è¡Œâ€æŒ‰é’®ä»¥æ‰§è¡Œä»£ç ã€‚</p>

<pre><code class="language-Dart">class WannabeFunction {
  call(String a, String b, String c) =&gt; &#39;$a $b $c!&#39;;
}

main() {
  var wf = new WannabeFunction();
  var out = wf(&quot;Hi&quot;,&quot;there,&quot;,&quot;gang&quot;);
  print(&#39;$out&#39;);
}
</code></pre>

<p>æœ‰å…³å¤„ç†å‡½æ•°ç±»çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/articles/language/emulating-functions">åœ¨Dartä¸­æ¨¡æ‹Ÿå‡½æ•°</a>ã€‚</p>

<h2 id="toc_99">éš”ç¦»</h2>

<p>å¤§å¤šæ•°è®¡ç®—æœºï¼Œç”šè‡³åœ¨ç§»åŠ¨å¹³å°ä¸Šï¼Œéƒ½æœ‰å¤šæ ¸CPUã€‚ä¸ºäº†åˆ©ç”¨æ‰€æœ‰è¿™äº›æ ¸å¿ƒï¼Œå¼€å‘äººå‘˜ä¼ ç»Ÿä¸Šä½¿ç”¨å¹¶å‘è¿è¡Œçš„å…±äº«å†…å­˜çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œå…±äº«çŠ¶æ€å¹¶å‘å®¹æ˜“å‡ºé”™ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´ä»£ç å¤æ‚åŒ–ã€‚</p>

<p>æ‰€æœ‰Dartä»£ç éƒ½åœ¨éš”ç¦»åŒºå†…è¿è¡Œï¼Œè€Œä¸æ˜¯çº¿ç¨‹ã€‚æ¯ä¸ªéš”ç¦»åŒºéƒ½æœ‰è‡ªå·±çš„å†…å­˜å †ï¼Œç¡®ä¿ä¸ä¼šä»ä»»ä½•å…¶ä»–éš”ç¦»åŒºè®¿é—®éš”ç¦»åŒºçš„çŠ¶æ€ã€‚</p>

<p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://api.dartlang.org/stable/dart-isolate">dartï¼šisolateåº“æ–‡æ¡£</a>ã€‚</p>

<h2 id="toc_100">ç±»å‹å®šä¹‰</h2>

<p>åœ¨Dartä¸­ï¼Œå‡½æ•°æ˜¯å¯¹è±¡ï¼Œå°±åƒå­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ•°å­—æ˜¯å¯¹è±¡ã€‚ typedefæˆ–å‡½æ•°ç±»å‹åˆ«åä¸ºå‡½æ•°ç±»å‹æä¾›äº†åœ¨å£°æ˜å­—æ®µå’Œè¿”å›ç±»å‹æ—¶å¯ä»¥ä½¿ç”¨çš„åç§°ã€‚å½“å‡½æ•°ç±»å‹åˆ†é…ç»™å˜é‡æ—¶ï¼Œtypedefä¼šä¿ç•™ç±»å‹ä¿¡æ¯ã€‚</p>

<p>è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼Œå®ƒä¸ä½¿ç”¨typedefï¼š</p>

<pre><code class="language-Dart">class SortedCollection {
  Function compare;

  SortedCollection(int f(Object a, Object b)) {
    compare = f;
  }
}

// Initial, broken implementation.
int sort(Object a, Object b) =&gt; 0;

void main() {
  SortedCollection coll = SortedCollection(sort);

  // All we know is that compare is a function,
  // but what type of function?
  assert(coll.compare is Function);
}
</code></pre>

<p>å°†fåˆ†é…ç»™æ¯”è¾ƒæ—¶ï¼Œç±»å‹ä¿¡æ¯ä¼šä¸¢å¤±ã€‚ fçš„ç±»å‹æ˜¯ï¼ˆObjectï¼ŒObjectï¼‰â†’intï¼ˆå…¶ä¸­â†’è¡¨ç¤ºè¿”å›ï¼‰ï¼Œä½†æ¯”è¾ƒçš„ç±»å‹æ˜¯Functionã€‚å¦‚æœæˆ‘ä»¬å°†ä»£ç æ›´æ”¹ä¸ºä½¿ç”¨æ˜¾å¼åç§°å¹¶ä¿ç•™ç±»å‹ä¿¡æ¯ï¼Œåˆ™å¼€å‘äººå‘˜å’Œå·¥å…·éƒ½å¯ä»¥ä½¿ç”¨è¯¥ä¿¡æ¯ã€‚</p>

<pre><code class="language-Dart">typedef Compare = int Function(Object a, Object b);

class SortedCollection {
  Compare compare;

  SortedCollection(this.compare);
}

// Initial, broken implementation.
int sort(Object a, Object b) =&gt; 0;

void main() {
  SortedCollection coll = SortedCollection(sort);
  assert(coll.compare is Function);
  assert(coll.compare is Compare);
}
</code></pre>

<blockquote>
<p>æ³¨æ„ï¼šç›®å‰ï¼Œtypedefä»…é™äºå‡½æ•°ç±»å‹ã€‚æˆ‘ä»¬å¸Œæœ›è¿™ä¼šæ”¹å˜ã€‚</p>
</blockquote>

<p>å› ä¸ºtypedefåªæ˜¯åˆ«åï¼Œæ‰€ä»¥å®ƒä»¬æä¾›äº†ä¸€ç§æ£€æŸ¥ä»»ä½•å‡½æ•°ç±»å‹çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>

<pre><code class="language-Dart">typedef Compare&lt;T&gt; = int Function(T a, T b);

int sort(int a, int b) =&gt; a - b;

void main() {
  assert(sort is Compare&lt;int&gt;); // True!
}
</code></pre>

<h2 id="toc_101">å…ƒæ•°æ®</h2>

<p>ä½¿ç”¨å…ƒæ•°æ®æä¾›æœ‰å…³ä»£ç çš„å…¶ä»–ä¿¡æ¯ã€‚å…ƒæ•°æ®æ³¨é‡Šä»¥å­—ç¬¦@å¼€å¤´ï¼Œåè·Ÿå¯¹ç¼–è¯‘æ—¶å¸¸é‡çš„å¼•ç”¨ï¼ˆä¾‹å¦‚<code>deprecated</code>ï¼‰æˆ–å¯¹å¸¸é‡æ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚</p>

<p>æ‰€æœ‰Dartä»£ç éƒ½æœ‰ä¸¤ä¸ªæ³¨é‡Šï¼š@deprecatedå’Œ@overrideã€‚æœ‰å…³ä½¿ç”¨@overrideçš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…æ‰©å±•ç±»ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨@deprecatedæ³¨é‡Šçš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">class Television {
  /// _Deprecated: Use [turnOn] instead._
  @deprecated
  void activate() {
    turnOn();
  }

  /// Turns the TV&#39;s power on.
  void turnOn() {...}
}
</code></pre>

<p>æ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„å…ƒæ•°æ®æ³¨é‡Šã€‚è¿™æ˜¯ä¸€ä¸ªå®šä¹‰å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„@todoæ³¨é‡Šçš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">library todo;

class Todo {
  final String who;
  final String what;

  const Todo(this.who, this.what);
}
</code></pre>

<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨@todoæ³¨é‡Šçš„ç¤ºä¾‹ï¼š</p>

<pre><code class="language-Dart">import &#39;todo.dart&#39;;

@Todo(&#39;seth&#39;, &#39;make this do something&#39;)
void doSomething() {
  print(&#39;do something&#39;);
}
</code></pre>

<p>å…ƒæ•°æ®å¯ä»¥å‡ºç°åœ¨åº“ï¼Œç±»ï¼Œtypedefï¼Œç±»å‹å‚æ•°ï¼Œæ„é€ å‡½æ•°ï¼Œå·¥å‚ï¼Œå‡½æ•°ï¼Œå­—æ®µï¼Œå‚æ•°æˆ–å˜é‡å£°æ˜ä¹‹å‰ä»¥åŠå¯¼å…¥æˆ–å¯¼å‡ºæŒ‡ä»¤ä¹‹å‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åå°„åœ¨è¿è¡Œæ—¶æ£€ç´¢å…ƒæ•°æ®ã€‚</p>

<h2 id="toc_102">æ³¨é‡Š</h2>

<p>Dartæ”¯æŒå•è¡Œæ³¨é‡Šï¼Œå¤šè¡Œæ³¨é‡Šå’Œæ–‡æ¡£æ³¨é‡Šã€‚</p>

<h3 id="toc_103">å•è¡Œæ³¨é‡Š</h3>

<p>å•è¡Œæ³¨é‡Šä»¥//å¼€å¤´ã€‚ Dartç¼–è¯‘å™¨ä¼šå¿½ç•¥//å’Œè¡Œå°¾ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ã€‚</p>

<pre><code class="language-Dart">void main() {
  // TODO: refactor into an AbstractLlamaGreetingFactory?
  print(&#39;Welcome to my Llama farm!&#39;);
}
</code></pre>

<h3 id="toc_104">å¤šè¡Œæ³¨é‡Š</h3>

<p>å¤šè¡Œæ³¨é‡Šä»¥<code>/*</code>å¼€å¤´ï¼Œä»¥<code>*/</code>ç»“å°¾ã€‚ Dartç¼–è¯‘å™¨ä¼šå¿½ç•¥<code>/*</code>å’Œ<code>*/</code>ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ï¼ˆé™¤éæ³¨é‡Šæ˜¯æ–‡æ¡£æ³¨é‡Š;è¯·å‚é˜…ä¸‹ä¸€èŠ‚ï¼‰ã€‚å¤šè¡Œæ³¨é‡Šå¯ä»¥åµŒå¥—ã€‚</p>

<pre><code class="language-Dart">void main() {
  /*
   * This is a lot of work. Consider raising chickens.

  Llama larry = Llama();
  larry.feed();
  larry.exercise();
  larry.clean();
   */
}
</code></pre>

<h3 id="toc_105">æ–‡æ¡£æ³¨é‡Š</h3>

<p>æ–‡æ¡£æ³¨é‡Šæ˜¯ä»¥<code>///</code>æˆ–<code>/**</code>å¼€å¤´çš„å¤šè¡Œæˆ–å•è¡Œæ³¨é‡Šã€‚åœ¨è¿ç»­è¡Œä¸Šä½¿ç”¨<code>///</code>ä¸å¤šè¡Œæ–‡æ¡£æ³¨é‡Šå…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚</p>

<p>åœ¨æ–‡æ¡£æ³¨é‡Šä¸­ï¼ŒDartç¼–è¯‘å™¨å¿½ç•¥æ‰€æœ‰æ–‡æœ¬ï¼Œé™¤éå®ƒæ‹¬åœ¨æ‹¬å·ä¸­ã€‚ä½¿ç”¨æ‹¬å·ï¼Œæ‚¨å¯ä»¥å¼•ç”¨ç±»ï¼Œæ–¹æ³•ï¼Œå­—æ®µï¼Œé¡¶çº§å˜é‡ï¼Œå‡½æ•°å’Œå‚æ•°ã€‚æ‹¬å·ä¸­çš„åç§°åœ¨å·²è®°å½•çš„ç¨‹åºå…ƒç´ çš„è¯æ³•èŒƒå›´å†…å¾—åˆ°è§£æã€‚</p>

<p>ä»¥ä¸‹æ˜¯æ–‡æ¡£æ³¨é‡Šçš„ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…å«å¯¹å…¶ä»–ç±»å’Œå‚æ•°çš„å¼•ç”¨ï¼š</p>

<pre><code class="language-Dart">/// A domesticated South American camelid (Lama glama).
///
/// Andean cultures have used llamas as meat and pack
/// animals since pre-Hispanic times.
class Llama {
  String name;

  /// Feeds your llama [Food].
  ///
  /// The typical llama eats one bale of hay per week.
  void feed(Food food) {
    // ...
  }

  /// Exercises your llama with an [activity] for
  /// [timeLimit] minutes.
  void exercise(Activity activity, int timeLimit) {
    // ...
  }
}
</code></pre>

<p>åœ¨ç”Ÿæˆçš„æ–‡æ¡£ä¸­ï¼Œ[Food]æˆä¸ºFoodç±»çš„APIæ–‡æ¡£çš„é“¾æ¥ã€‚</p>

<p>è¦è§£æDartä»£ç å¹¶ç”ŸæˆHTMLæ–‡æ¡£ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨SDKçš„<a href="https://github.com/dart-lang/dartdoc#dartdoc">æ–‡æ¡£ç”Ÿæˆå·¥å…·</a>ã€‚æœ‰å…³ç”Ÿæˆçš„æ–‡æ¡£çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…<a href="https://api.dartlang.org/stable">Dart APIæ–‡æ¡£</a>ã€‚æœ‰å…³å¦‚ä½•æ„å»ºè¯„è®ºçš„å»ºè®®ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/effective-dart/documentation">Dart Docæ³¨é‡ŠæŒ‡å—</a>ã€‚</p>

<h2 id="toc_106">æ€»ç»“</h2>

<p>æœ¬é¡µæ¦‚è¿°äº†Dartè¯­è¨€ä¸­å¸¸ç”¨çš„åŠŸèƒ½ã€‚æ­£åœ¨å®æ–½æ›´å¤šåŠŸèƒ½ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å®ƒä»¬ä¸ä¼šç ´åç°æœ‰ä»£ç ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/language/spec">Dartè¯­è¨€è§„èŒƒ</a>å’Œ<a href="https://www.dartlang.org/guides/language/effective-dart">Dffective Dart</a>ã€‚</p>

<p>è¦äº†è§£æœ‰å…³Dartæ ¸å¿ƒåº“çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.dartlang.org/guides/libraries/library-tour">Dart Librariesä¹‹æ—…</a>ã€‚</p>

<blockquote>
<p>æœ¬ç¿»è¯‘ä¸ºä¸ªäººå·¥æˆæœ,å¦‚éœ€è½¬å‘è¯·æ³¨æ˜å‡ºå¤„.</p>
</blockquote>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-08-06T15:02:01+08:00" itemprop="datePublished">2018/8/6</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='mweb.html'>mweb</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15335389211853.html" itemprop="url">
		åœ¨CHD5.10.2 å®‰è£…kylin2.4.0</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>æœ€è¿‘ä¸€è‡´æœ‰ç”¨æˆ·æŠ±æ€¨æŠ¥è¡¨æ‰“å¼€æ…¢,æˆ‘æ‰¾äº†ä¸€ä¸‹å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ,å‘ç°kylinæ¯”è¾ƒé€‚åˆæˆ‘ä»¬çš„é•¿ä»Š,ä»Šå¤©æ‰“ç®—å®‰è£…è¯•ä¸€ä¸‹.</p>

<p>æˆ‘ä»¬çš„æµ‹è¯•ç¯å¢ƒä¸º:</p>

<ul>
<li>CDH5.10.2 æœ‰hive impala kudu1.4 hbase</li>
</ul>

<p>ä¸‹é¢å¼€å§‹å®‰è£…</p>

<p>ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…</p>

<pre><code class="language-bash">wget http://www.apache.org/dyn/closer.cgi/kylin/apache-kylin-2.4.0/apache-kylin-2.4.0-bin-cdh57.tar.gz
</code></pre>

<p>è§£å‹</p>

<pre><code class="language-bash">tar xzvf apache-kylin-2.4.0-bin-cdh57.tar.gz
</code></pre>

<p>åˆ°è§£å‹çš„binç›®å½•æ‰§è¡Œç¯å¢ƒæ£€æŸ¥<br/>
ä¿®æ”¹confç›®å½•ä¸‹çš„kylin.properiesæ–‡ä»¶:</p>

<pre><code>#è¿›å…¥è§£å‹çš„ç›®å½•
cd pache-kylin-2.4.0-bin-cdh57
export KYLIN_HOME=`pwd`
# kylinåœ¨hdfsçš„å·¥ä½œç›®å½•
kylin.env.hdfs-working-dir=/kylin
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-07-09T14:23:41+08:00" itemprop="datePublished">2018/7/9</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='mweb.html'>mweb</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15311174213941.html" itemprop="url">
		Centos7 å®‰è£…kudu pythonå®¢æˆ·ç«¯</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<h3 id="toc_0">å®‰è£…kuduçš„å®˜æ–¹æº</h3>

<pre><code class="language-bash">cd /etc/yum.repos.d/

wget http://archive.cloudera.com/kudu/redhat/7/x86_64/kudu/cloudera-kudu.repo

yum update

</code></pre>

<h3 id="toc_1">å®‰è£…ç³»ç»Ÿä¾èµ–</h3>

<pre><code class="language-bash">sudo yum install kudu                         # Base Kudu files
sudo yum install kudu-master                  # Kudu master init.d service script and default configuration
sudo yum install kudu-tserver                 # Kudu tablet server init.d service script and default configuration
sudo yum install kudu-client0                 # Kudu C++ client shared library
sudo yum install kudu-client-devel            # Kudu C++ client SDK
</code></pre>

<p>å› æ­¤,åªéœ€è¦å®‰è£… kuduåŸºç¡€åŒ… å’Œå®¢æˆ·ç«¯ åŠsdkå³å¯</p>

<pre><code class="language-bash">yum install kudu kudu-client0 kudu-client-devel gcc -y
yum install gcc-c++ gcc -y
</code></pre>

<h3 id="toc_2">å®‰è£…kudu_pythonå®¢æˆ·ç«¯</h3>

<pre><code class="language-bash"># è¿™ä¸ªä¾èµ–éœ€è¦æ‰‹åŠ¨å®‰è£…
pip install Cython
# ç›®å‰å®˜æ–¹æä¾›çš„Cåº“ä»¥åŠæˆ‘ä»¬é€‚ç”¨çš„kuduæ˜¯1.4ç‰ˆæœ¬,
# æ‰€ä»¥ä¸è¦å®‰è£…pythonå®¢æˆ·ç«¯çš„æœ€æ–°ç‰ˆæœ¬,æˆ‘è¯•è¿‡1.2ç‰ˆæœ¬æ˜¯å…¼å®¹çš„
pip install kudu_python==1.2
</code></pre>

<h3 id="toc_3">æµ‹è¯•è¿æ¥</h3>

<pre><code class="language-Python">import kudu
# æ³¨æ„è¿™é‡Œ hostæ˜¯kudu masterçš„åˆ—è¡¨
client = kudu.connect(host=[&#39;192.168.3.32&#39;,&#39;192.168.3.31&#39;], port=7051)
# è·å–è¡¨åˆ—è¡¨
a = client.list_tables()
# æ‰“å°åˆ—è¡¨
print a
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-05-25T09:38:29+08:00" itemprop="datePublished">2018/5/25</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='mweb.html'>mweb</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15272123098116.html" itemprop="url">
		å…³äºcx_oracle TypeError: expecting string, unicode or buffer object é”™è¯¯çš„è§£å†³</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>æœ€è¿‘ç”¨cx_oracleæ’å…¥æ•°æ®çš„æ—¶å€™å‘ç°ä¼šæŠ¥è¿™ä¸ªé”™è¯¯.ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯æ•°æ®çš„é—®é¢˜.è´¹åŠ²æŠŠæ’å…¥æŠ¥é”™çš„æ•°æ®æ‰¾åˆ°å.å‘ç°å•æ¡æ’å…¥æ²¡æœ‰é—®é¢˜.æ‰€ä»¥æ€€ç–‘æ˜¯cx_oracleçš„bug.<br/>
ä¸€å¼€å§‹æŠ¥é”™çš„ç‰ˆæœ¬æ˜¯5.2.1,åæ¥å‘ç°5.xéƒ½ä¼šæŠ¥è¿™ä¸ªé”™.è€Œ6.xä¼šæŠ¥å¦å¤–ä¸€ä¸ªé”™è¯¯.è¿™é‡Œæš‚ä¸”ä¸æ.</p>

<p>æœ€ç»ˆä¿®å¤çš„æ–¹å¼æ˜¯æ•è·é”™è¯¯å°è¯•å•æ¡æ’å…¥.ä¸‹é¢çš„ä»£ç æ¯”è¾ƒç²—æ”¾ä»…ä¾›å‚è€ƒ</p>

<pre><code>        for rows in insert_data.get_data_itera(5000, empty_string_as_None=empty_string_as_None):
            row_count = len(rows)
            try:
                target_cur.executemany(insert_sql, rows)
                target_conn.commit()
            except Exception,e:
                target_conn.rollback()
                logging.info(u&#39;æ‰¹é‡æ’å…¥æŠ¥é”™,å›æ»šå¹¶å°è¯•å•æ¡æ’å…¥&#39;)
                for row in rows:
                    target_cur.executemany(insert_sql,[row,])
                target_conn.commit()
            total_count += row_count
            logging.info(
                u&quot;æ’å…¥ {row_num} æ¡æ•°æ®,å·²æ’å…¥{total_count}æ¡è®°å½•&quot;.format(
                    row_num=str(row_count),
                    total_count=str(total_count)))
                    
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-05-24T08:04:36+08:00" itemprop="datePublished">2018/5/24</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='mweb.html'>mweb</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15271202760078.html" itemprop="url">
		Macbook mds è¿›ç¨‹å ç”¨CPUé—®é¢˜</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>ç»æŸ¥æ˜¯Spotlightçš„ç´¢å¼•è¿›ç¨‹.å¦‚æœå¹³æ—¶ä¸ç”¨Spotlight å¯ä»¥ç¦ç”¨æ‰.<br/>
ç¦ç”¨å‘½ä»¤:</p>

<pre><code># ç¦ç”¨
sudo mdutil -a -i off
# å¯ç”¨
sudo mdutil -a -i on
</code></pre>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 
	
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2014
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>

  
    
<script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

</body>
</html>